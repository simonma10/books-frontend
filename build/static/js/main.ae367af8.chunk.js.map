{"version":3,"sources":["components/NavBar.js","App-config.js","components/UserEdit.js","components/UserList.js","components/Stars.js","components/BookListItem.js","components/BookList.js","components/GoogleBooksList.js","components/BookEditModal.js","components/YesNoModal.js","components/Toaster.js","components/Dropdown.js","components/BookListNavBar.js","components/BookListContainer.js","components/LoginModal.js","App.js","serviceWorker.js","index.js"],"names":["NavBar","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleLogout","bind","assertThisInitialized","username","user","react_default","a","createElement","className","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","href","role","onClick","Component","require","config","API_HOST","CONFIG","modalName","baseUrl","searchUrl","routesUrl","loginUrl","usersUrl","statusOptions","name","value","priorityOptions","UserEdit","tabIndex","aria-labelledby","aria-hidden","mode","htmlFor","aria-describedby","placeholder","onChange","e","handleChange","target","password","email","checked","active","data-dismiss","handleSubmit","UserList","JSON","parse","localStorage","getItem","state","users","isUsersLoading","editUser","_id","handleEditClick","handleEditChange","handleEditSubmit","console","log","getUsers","headers","Authorization","authdata","_this2","setState","objectSpread","url","requestOptions","getRequestOptions","axios","get","then","response","data","catch","error","_this3","patch","status","_this4","delete","_this5","post","updateUser","defineProperty","createUser","_this6","length","map","u","index","key","toggleActive","deleteUser","_this7","renderSpinner","renderUserList","components_UserEdit","Stars","bookId","starsFromProps","priority","starsTemp","handleMouseOver","handleMouseOut","handleClick","n","nmax","arguments","undefined","res","i","push","handleStarClick","numToArray","b","onMouseOver","onMouseOut","filledStar","emptyStar","BookListItem","book","thumbSrc","googleBooksId","snippet","replace","src","alt","title","author","year","style","position","bookUpdatingId","left","top","selectHandler","components_Stars","data-placement","fontSize","clickHandler","data-parent","subtitle","description","categories","join","pages","publisher","isbn13","BookList","books","components_BookListItem","renderBookListItems","newHandler","renderBookList","isLoading","GoogleBooksList","isGoogleLoading","scope","authors","handleGoogleBookSelect","BookEditModal","handleSave","handleGoogleLookup","modalTitle","components_GoogleBooksList","googleBooksData","YesNoModal","msg","handleOkClick","Toaster","toasts","removeToast","toast","newToasts","t","filter","message","toastStyle","width","zIndex","callback","aria-live","aria-atomic","right","minHeight","window","$","on","data-delay","Dropdown","iconIndicator","activeItem","aria-haspopup","buttonText","items","changeHandler","item","data-value","getAttribute","renderItems","BookListNavBar","components_Dropdown","statusFilter","handleStatusFilterChange","priorityFilter","handlePriorityFilterChange","onSubmit","preventDefault","searchTerm","handleSearchChange","handleSearchClick","BookListContainer","booksCache","activeBook","userid","modalMode","yesNoModal","text","isBookListLoading","handleEditModalChange","handleEditModalSave","handleListItemClick","deleteActiveBook","handleNewClick","handleSelectChange","toaster","React","createRef","getBookList","result","q","auth","param","current","addToast","filteredList","parseInt","getAuth","concat","createBook","updateBook","setActiveBook","deleteBook","getGoogleBooksData","f","isbn10","date","v","filterBookList","components_BookListNavBar","components_BookList","components_BookEditModal","components_YesNoModal","components_Toaster","ref","LoginModal","login","App","handleLoginChange","handleLoginSubmit","localUser","tooltip","popover","autohide","delay","appToaster","bookListContainer","btoa","setItem","stringify","removeItem","components_NavBar","components_LoginModal","react_router_dom","react_router","path","exact","render","components_BookListContainer","assign","component","Boolean","location","hostname","match","ReactDOM","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ae367af8.chunk.js","sourcesContent":["import React, {Component} from 'react'\n\nclass NavBar extends Component{\n    constructor(props){\n        super(props)\n       \n        this.handleLogout = this.handleLogout.bind(this)\n    }\n\n    handleLogout(){\n        this.props.handleLogout()\n    }\n\n    render(){\n        const username = this.props.user.username || \"\"\n        //const navbarStyle = {backgroundColor: \"#ccd3d6\"}\n        return (\n        <nav className=\"navbar sticky-top navbar-expand-lg navbar-dark bg-dark\" >  {/*  style={navbarStyle}   */} \n                <span className=\"navbar-brand mb-0 h1\"><i className=\"fas fa-book\"></i> Funky Books</span>\n                <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                    <span className=\"navbar-toggler-icon\"></span>\n                </button>\n                \n    \n                <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n                    <ul className=\"navbar-nav mr-auto\">\n                    <li className=\"nav-item\">\n                        <a className=\"nav-link\" href=\"/\">My BookList</a>\n                    </li>\n                    \n                    {\n                        this.props.user.role === \"admin\" ?\n                            <li className=\"nav-item\">\n                                <a className=\"nav-link\" href=\"/users\">Users</a>\n                            </li>\n                        : <span></span>\n                    }\n                   \n                        \n                        \n                    </ul>\n                    <div className=\"ml-4 mr-2\">\n                    {   username === \"\" ? \n                        <button type=\"button\" className=\"btn btn-primary btn-sm\" data-toggle=\"modal\" data-target=\".login-modal\">Login</button> : \n                        <div className=\"row\"><div className=\"mr-1 d-flex flex-column justify-content-center text-light\">{username}</div><button type=\"button\" className=\"btn btn-secondary btn-sm\" onClick={this.handleLogout}>Logout</button> </div> \n                    }\n                    </div>\n                  \n                      \n                </div> \n            </nav>\n        )\n    }\n   \n}\n\nexport default NavBar","\nrequire('dotenv').config()\n\nconst API_HOST = \"https://limitless-headland-66330.herokuapp.com\"\n\nconst CONFIG = {\n    modalName: \"bookEditModal\",\n    baseUrl: API_HOST + \"/api/v1/books\",\n    searchUrl: API_HOST + \"/api/v1/external/google/volumes\",\n    routesUrl: API_HOST + \"/routes\",\n    loginUrl: API_HOST + \"/login\",\n    usersUrl: API_HOST + \"/users\",\n    statusOptions: [\n        {name: \"None\", value: \"none\"},\n        {name: \"Wishlist\", value: \"wishlist\" },\n        {name: \"On Order\", value: \"onOrder\"},\n        {name: \"Purchased\", value: \"purchased\"},\n        {name: \"Reading\", value: \"reading\"},\n        {name: \"Read\", value: \"read\"}\n        ],\n\n    priorityOptions: [\n        {name: \"None\", value: \"none\"},\n        {name: \"0\", value: 0},\n        {name: \"1\", value: 1},\n        {name: \"2\", value: 2},\n        {name: \"3\", value: 3},\n        {name: \"4\", value: 4},\n        {name: \"5\", value: 5}\n    ]\n}\n\nexport default CONFIG","import React from 'react'\n\nfunction UserEdit(props){\n    return (\n        <div className=\"modal fade user-edit-modal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"mySmallModalLabel\" aria-hidden=\"true\">\n            <div className=\"modal-dialog\">\n                <div className=\"modal-content\">\n                <form>\n\n                    <div className=\"modal-header\">\n                        <h5>{props.mode} User</h5>\n                    </div>\n    \n                    <div className=\"modal-body\">\n                     \n                            <div className=\"form-group\">\n                                <label htmlFor=\"editUserUsername\">Username</label>\n                                <input type=\"text\" className=\"form-control\" id=\"editUserUsername\" aria-describedby=\"usernameHelp\" placeholder=\"Enter username\"\n                                    value={props.user.username} name=\"username\" onChange={function(e) { props.handleChange(e.target.name, e.target.value)}  } />\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"editUserPassword\">Password</label>\n                                <input type=\"password\" className=\"form-control\" id=\"editUserPassword\" aria-describedby=\"usernameHelp\" placeholder=\"Enter password\"\n                                    value={props.user.password} name=\"password\" onChange={function(e) { props.handleChange(e.target.name, e.target.value)}  } />\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"editUserEmail\">Email</label>\n                                <input type=\"email\" className=\"form-control\" id=\"editUserEmail\" placeholder=\"Email address\" \n                                    value={props.user.email} name=\"email\" onChange={function(e) { props.handleChange(e.target.name, e.target.value) } } />\n                            </div>\n                            <div className=\"row\">\n                                <div className=\"form-group col-8\">\n                                    <label htmlFor=\"editUserRole\">Role</label>\n                                    <select\n                                        value={props.user.role || \"\"}\n                                        onChange={(e)=>{props.handleChange(e.target.name, e.target.value)}}\n                                        className=\"form-control\"\n                                        id=\"editUserRole\"\n                                        name=\"role\"\n                                    >\n                                        <option value=\"guest\">Guest</option>\n                                        <option value=\"user\">User</option>\n                                        <option value=\"admin\">Admin</option>\n                                    </select>\n                                    \n                                </div>\n                                <div className=\"form-group form-check col-4\">\n\n                                    \n                                    <input type=\"checkbox\" className=\"form-check-input\" id=\"editUserActive\" \n                                     checked={props.user.active} name=\"active\" onChange={function(e) { props.handleChange(e.target.name, !props.user.active) } } />\n                                    <label className=\"form-check-label\" htmlFor=\"editUserActive\">Active</label>\n\n\n                                </div>\n\n                            </div>\n                          \n                            \n                            \n                    </div>\n                \n                    <div className=\"modal-footer\">\n                        <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\n                        <button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\" onClick={props.handleSubmit}>Submit</button>\n                    </div>\n                    </form>\n                </div>\n                \n            </div>\n        </div>\n    )\n        \n\n    \n}\n\nexport default UserEdit","import React, {Component} from 'react'\nimport axios from 'axios'\nimport CONFIG from '../App-config'\nimport UserEdit from './UserEdit'\n\nclass UserList extends Component {\n    constructor(props){\n        super(props)\n        const user = JSON.parse(localStorage.getItem('user'))\n        this.state={\n            users:[],\n            isUsersLoading: false,\n            user: user,\n            editUser: {\n                _id: \"\",\n                username: \"\",\n                password: \"\",\n                email: \"\",\n                role: \"\",\n                active: true\n            },\n            mode: \"\"\n        }\n\n        this.handleEditClick = this.handleEditClick.bind(this)\n        this.handleEditChange = this.handleEditChange.bind(this)\n        this.handleEditSubmit = this.handleEditSubmit.bind(this)\n    }\n\n    componentDidMount(){\n        if (this.state.user === null){\n            console.log('user not loaded')\n        }\n        this.getUsers()\n    }\n\n    getRequestOptions(){\n        const authdata = this.state.user.authdata\n\t\treturn {\n\t\t\theaders: { 'Authorization': 'Basic ' + authdata }\n        }\n    }\n\n    getUsers(){\n\t\tthis.setState({ ...this.state, isUsersLoading: true} ) \n        const url = CONFIG.usersUrl\n        const requestOptions = this.getRequestOptions()\n        axios.get(url, requestOptions)\n      \t\t.then((response) => {\n        \tthis.setState({\n\t\t\t\tusers: response.data,\n\t\t\t\tisUsersLoading: false\n            })\n      \t})\n\t\t.catch((error) => {\n\t\t\tconsole.log(error)\n\t\t\tthis.setState({\n\t\t\t\terror: true,\n\t\t\t\tisUsersLoading: false\n\t\t\t})\n\t\t});\n    }\n    \n    updateUser(user){\n        const url = CONFIG.usersUrl\n        axios.patch(url, user, this.getRequestOptions())\n      \t\t.then((response) => {\n        \tif (response.status === 200){\n\t\t\t\tconsole.log(\"User updated successfully\")\n\t\t\t\tthis.getUsers()\n\t\t\t}\n      \t})\n\t\t.catch((error) => {\n\t\t\tconsole.log(\"Error updating user\")\n\t\t});\n    }\n\n    deleteUser(user){\n        console.log('deleteUser', user)\n\t\tconst url = CONFIG.usersUrl + \"?id=\" + user._id\n\t\t\n\t\taxios.delete(url, this.getRequestOptions())\n      \t\t.then((response) => {\n        \tif (response.status === 200){\n\t\t\t\tconsole.log(\"User deleted successfully\")\n\t\t\t\tthis.getUsers()\n\t\t\t}\n      \t})\n\t\t.catch((error) => {\n\t\t\tconsole.log(error)\n\t\t})\n    }\n\n    createUser(user){\n\t\tconst url = CONFIG.usersUrl\n\t\t\n\t\taxios.post(url, user, this.getRequestOptions())\n      \t\t.then((response) => {\n        \tif (response.status === 200){\n\t\t\t\tconsole.log(user.username, \"created successfully\")\n\t\t\t\t//this.toaster.current.addToast({message: `User added: '${user.username}'`})\n\t\t\t\tthis.getUsers()\n\t\t\t}\n      \t})\n\t\t.catch((error) => {\n\t\t\tconsole.log(error)\n\t\t})\n    }\n    \n    toggleActive(user){\n        let updateUser = user\n        updateUser.active = !updateUser.active\n        this.updateUser(updateUser)\n    }\n    \n    handleEditClick(user){\n        if (user === \"New\"){\n            this.setState({\n                editUser: {\n                    _id: \"\",\n                    username: \"\",\n                    password: \"\",\n                    email: \"\",\n                    role: \"\",\n                    active: true\n                },\n                mode: \"New\"\n            })\n        } else {\n            this.setState({\n                editUser: user,\n                mode: \"Edit\"\n            })\n        }\n        \n    }\n\n    handleEditChange(name, value){\n        this.setState({\n            editUser:{\n                ...this.state.editUser,\n                [name]: value\n            }\n        })\n        //console.log(name, value)\n\n    }\n    handleEditSubmit(){\n        //console.log('update User:\\n', this.state.editUser)\n        if (this.state.mode === \"New\"){\n            this.createUser(this.state.editUser)\n        } else {\n            this.updateUser(this.state.editUser)\n        }\n        \n    }\n\n    renderUserList(){\n        if(this.state.users.length > 0){\n            return this.state.users.map((u, index)=>[\n                \n                <div className=\"row mb-2\" key={index}>\n                    <div className=\"col-3\">{u.username}</div>\n                    <div className=\"col-5\">{u.email}</div>\n                    <div className=\"col-1\">{u.role}</div>\n                    <div className=\"col-1\">\n                        <button className=\"btn btn-primary btn-sm\" \n                            data-toggle=\"modal\"\n                            data-target=\".user-edit-modal\"\n                            onClick={()=>this.handleEditClick(u)}\n                        >\n                            <span>EditUser</span>\n                        </button>\n                    </div>\n                    <div className=\"col-1\">\n                        <button \n                            className=\"btn btn-warning btn-sm\"\n                            onClick={()=>{this.toggleActive(u)}}\n                        >\n                            {u.active ? <span>Deactivate</span> : <span>Activate</span>}\n                        </button>\n                    </div>\n                    \n                    <div className=\"col-1\">\n                        <button \n                            className=\"btn btn-danger btn-sm\"\n                            onClick={()=>{this.deleteUser(u)}}\n                        >Delete</button>\n                    </div>\n                </div>\n           ]\n               \n           )\n        }\n    }\n\n    renderSpinner(){\n        return (\n            <div className=\"text-center mt-3\">\n                <div className=\"spinner-border text-secondary\" role=\"status\">\n                    <span className=\"sr-only\">Loading...</span>\n                </div>\n            </div>\n        )\n    }\n\n    render(){\n        return(\n            <div>\n                <nav className=\"navbar sticky-top navbar-expand-lg navbar-light bg-light\" >  {/*  style={navbarStyle}   */} \n                    <span className=\"navbar-brand mb-0 h1\">Users</span>\n                </nav>\n                <div className=\"row justify-content-center\">\n                   \n                    <div className=\"col-11\">\n                        \n                        <div className=\"row\">\n                            <div className=\"col-3\"><strong>Username</strong></div>\n                            <div className=\"col-5\"><strong>Email</strong></div>\n                            <div className=\"col-1\"><strong>Role</strong></div>\n                            <div className=\"col-3 text-center\"><strong>Actions</strong></div>\n                        </div>\n                        <hr></hr>\n                    </div>\n                    <div className=\"col-11\">\n                        { this.state.isUsersLoading ? this.renderSpinner() :  this.renderUserList()}\n                    </div>\n                    <UserEdit\n                        user={this.state.editUser}\n                        handleChange={this.handleEditChange}\n                        handleSubmit={this.handleEditSubmit}\n                        mode={this.state.mode}\n                    ></UserEdit>\n                   \n                </div>\n               \n                    <div className=\"row justify-content-center\">\n                       \n                        <div className=\"col-11 justify-content-end\">\n                            <hr></hr>\n                            <button \n                                className=\"btn btn-success btn-sm\"\n                                data-toggle=\"modal\"\n                                data-target=\".user-edit-modal\"\n                                onClick={()=>{this.handleEditClick(\"New\")}}\n                            >New User</button>\n                        </div>\n\n                    </div>\n                    \n            </div>\n        )\n    }\n}\n\nexport default UserList","import React, { Component } from 'react'\n\n\nclass Stars extends Component{\n\n    constructor(props){\n        super(props)\n        this.state={\n            bookId: props.bookId,\n            starsFromProps: props.priority,\n            starsTemp: 0\n        }\n        this.handleMouseOver = this.handleMouseOver.bind(this)\n        this.handleMouseOut = this.handleMouseOut.bind(this)\n        this.handleClick = this.handleClick.bind(this)\n    }\n\n    componentDidMount(){\n        this.setState({\n            starsTemp: this.state.starsFromProps\n        })\n    }\n\n    emptyStar(){\n        return (\n            <i className=\"far fa-star\"></i>\n        )\n    }\n       \n    filledStar(){\n        return (\n            <i className=\"fas fa-star\"></i>\n        )\n    }\n    \n    \n    numToArray(n, nmax=5){\n        let res=[]\n        for (let i = 1; i < nmax+1; i++){\n            if(i <= n){\n                res.push(1)\n            } else {\n                res.push(0)\n            }\n        }\n        return res\n    }\n\n    handleMouseOver(index){\n        this.setState({\n            starsTemp: index + 1\n        })\n    }\n\n    handleMouseOut(){\n        this.setState({\n            starsTemp: this.state.starsFromProps\n        })\n    }\n\n    handleClick(index){\n        this.props.handleStarClick(index + 1, this.state.bookId)\n        this.setState({\n            starsFromProps: index + 1,\n            starsTemp: index + 1\n        })\n    }\n    \n    render(){\n        let a = this.numToArray(this.state.starsTemp)\n        return(\n            <div className=\"row text-warning\">\n                {a.map((b, index)=>{\n                    return (\n                        <span\n                            key={index}\n                            onMouseOver={()=>this.handleMouseOver(index)}\n                            onMouseOut={()=>{this.handleMouseOut()}}\n                            onClick={()=>this.handleClick(index)}\n                        >\n                            {b === 1 ? <span>{this.filledStar()}</span> : <span>{this.emptyStar()}</span>}\n                        </span>\n                    )\n                })}\n            </div>\n        )\n    }\n}\n\n\nexport default Stars","import React from 'react'\nimport CONFIG from '../App-config'\nimport Stars from './Stars'\n\nfunction renderSpinner(){\n    const spinnerContainerStyle = {position: 'absolute', left: '0px', top: '0px'}\n    return (\n\t\t<div className=\"col-12 text-center mt-3\" style={spinnerContainerStyle}>\n\t\t\t<div className=\"spinner-grow text-secondary\" role=\"status\">\n\t\t\t\t<span className=\"sr-only\">Loading...</span>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nfunction BookListItem(props){\n\n    let b = props.book\n    let thumbSrc=\"https://books.google.com/books/content?id=\"\n    if (b.googleBooksId && b.googleBooksId !== \"\"){\n        thumbSrc += b.googleBooksId\n    } else {\n        thumbSrc += \"ZlU3DwAAQBAJ\"\n    }\n    thumbSrc += \"&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api\"\n\n    // Google's snippet field contains escaped quote characters.  \n    // Replace these with apostrophe and speech marks\n    let snippet = \"\"\n    if(b.snippet){\n        snippet = b.snippet.replace(/&quot;/g, '\"')\n        snippet = snippet.replace(/&#39;/g, \"'\")\n    }\n\n    const snippetContainerStyle = {position: 'relative'}\n\n    return (\n\n        <div className=\"card\">\n            {/* card-header: because card-body used for collapse element */}\n            <div className=\"card-header\">\n                <div className=\"media\">\n\n                    <img \n                        src={thumbSrc}\n                        className=\"mr-2 bl-thumb\"\n                        alt=\"book cover\"\n                    ></img>\n\n                    <div className=\"media-body\">\n                        <div className=\"container-fluid row\">\n\n                            {/* Title & Author */}\n                            <div className=\"col-3\">\n                                <h6 className=\"mt-0\"><strong>{b.title || \"loading\"} </strong></h6>\n                                <div className=\"d-flex flex-row justify-content-between\">\n                                    <div>{b.author}   <span>{b.year ? <span>({b.year})</span> : <span></span>  }</span></div>\n                                </div>\n                                \n                            </div>\n                             {/* end: Title & Author */}\n                            \n                            \n                            <div className=\"col-6\" style={snippetContainerStyle}>\n                                <p><small>{snippet}</small></p>\n                                {props.bookUpdatingId === props.book._id ? renderSpinner() : <span></span> }\n                            </div>\n                        \n\n                            {/* Action Buttons */}\n                            <div className=\"col-3\">\n                                <div className=\"row\">\n                                    \n                                    {/* Status & Stars */}\n                                    <div className=\"col-6\">\n\n                                        <div className=\"mr-1 mb-4\"> \n                                            <select value={b.status || \"\"} onChange={(e)=>{props.selectHandler(e, b._id)}}>\n                                                <option value=\"wishlist\">Wishlist</option>\n                                                <option value=\"onOrder\">On Order</option>\n                                                <option value=\"purchased\">Purchased</option>\n                                                <option value=\"reading\">Reading</option>\n                                                <option value=\"read\">Read</option>\n                                            </select>\n                                        </div>\n\n                                        <div className=\"mr-1 ml-3\">\n                                            <Stars priority={b.priority} bookId={b._id} handleStarClick={(i, id)=>props.handleStarClick(i, id)}></Stars>\n                                        </div>\n\n                                    </div>\n                                    {/* end: Status & Stars */}\n   \n                                    {/* Edit & Delete & details */}\n                                    <div className=\"col-6\">\n                                        <div className=\"mr-1 ml-3 mb-3\">\n                                            <span data-toggle=\"tooltip\" data-placement=\"top\" title=\"edit book\">\n                                                <span \n                                                    style={{fontSize: \"1.2em\"}}\n                                                    className=\"mr-3 text-primary\"\n                                                    data-toggle=\"modal\"\n                                                    data-target={\"#\" + CONFIG.modalName}\n                                                    onClick={()=>{props.clickHandler(b._id)}}\n                                                >\n                                                    <i className=\"fas fa-edit\"></i>\n                                                </span>\n                                            </span>\n\n                                            <span data-toggle=\"tooltip\" data-placement=\"top\" title=\"delete book\">\n                                                <span\n                                                    style={{fontSize: \"1.2em\"}}\n                                                    className=\"text-danger\"\n                                                    data-toggle=\"modal\"\n                                                    data-target=\".yes-no-modal\"\n                                                    onClick={()=>{props.clickHandler(b._id)}}\n                                                >\n                                                    <i className=\"fas fa-trash-alt\"></i>\n                                                </span>\n                                            </span>\n                                        </div>\n\n                                        <div className=\"\">\n                                            <button type=\"button\" \n                                                        className=\"btn btn-link\" \n                                                        data-toggle=\"collapse\"\n                                                        data-target={\"#collapse\" + b._id} \n                                            ><small>details...</small>\n                                            </button>\n                                        </div>\n                                    \n                                    </div>\n                                    {/* end: Edit & Delete & details */}\n\n                                </div>\n                                \n                            </div>\n                            {/* end: Action Buttons */}\n\n                        </div>\n                  \n                    </div>\n                </div>\n            </div>\n\n            {/* Collapse Element - contains further details about book */}\n            <div className=\"collapse\" id={\"collapse\" + b._id} data-parent=\"#accordionList\">\n                <div className=\"card-body\">\n                    <h5>{b.title}{b.subtitle ? <span>: <small>{b.subtitle}</small></span> : <span></span>}</h5>\n                    <div>\n                        <p>\n                            {b.description} \n                        </p>\n                        <div className=\"row\">\n\n                        </div>\n                        <div>{b.categories ? <span>{b.categories.join()}</span>: <span></span>}</div>\n                        <div>{b.pages ? <span>{b.pages}pp</span> : <span></span>  }</div>\n                        <div>{b.publisher ? <span>{b.publisher}</span> : <span></span> }</div>\n                        <span>{b.isbn13 ? <span>ISBN: {b.isbn13}</span> : <span></span>}</span>\n                    </div>\n                </div>\n            </div>\n            \n        </div>\n\n    )\n}\n\nexport default BookListItem\n\n","import React, {Component} from 'react'\nimport BookListItem from './BookListItem'\nimport CONFIG from '../App-config'\n\nclass BookList extends Component {\n\n    renderBookListItems(){\n        if(this.props.books){\n            return this.props.books.map((b)=>[\n                <BookListItem \n                    book={b}\n                    bookUpdatingId={this.props.bookUpdatingId}\n                    key={b._id}\n                    clickHandler={this.props.clickHandler}\n                    selectHandler={this.props.selectHandler}\n                    handleStarClick={this.props.handleStarClick}\n                ></BookListItem>\n           ]\n               \n           )\n        }\n    }\n\n    renderSpinner(){\n        return (\n            <div className=\"text-center mt-3\">\n                <div className=\"spinner-border text-secondary\" role=\"status\">\n                    <span className=\"sr-only\">Loading...</span>\n                </div>\n            </div>\n        )\n    }\n\n    renderBookList(){\n        return (\n            <div>\n                <div className=\"accordion\" id=\"accordionList\">\n                    {this.renderBookListItems()}\n                </div>\n                <div className=\"d-flex justify-content-end\">\n                    <div className=\"mr-2\">\n                        <span data-toggle=\"tooltip\" data-placement=\"top\" title=\"new book\">\n                            <span \n                                className=\"mr-3 text-success\"\n                                data-toggle=\"modal\"\n                                data-target={\"#\" + CONFIG.modalName}\n                                onClick={()=>{this.props.newHandler()}}\n                            >\n                                <span style={{fontSize: \"1.2em\"}}>\n                                    <i className=\"far fa-plus-square\"></i>\n                                </span>\n                                <span className=\"ml-2\">Add</span>\n                                \n\n                            </span>\n                        </span>\n                    </div>\n                </div>\n            </div>\n        )\n\n    }\n\n    render(){\n        return (\n            <div className=\"row justify-content-center\">\n                <div className=\"col-11\">\n                    { this.renderBookList() }\n                    { this.props.isLoading ? this.renderSpinner() :  <span></span>}\n                   \n                </div>\n            </div>\n        )\n    }\n}\n\nexport default BookList\n","import React from 'react'\n\nfunction renderSpinner(){\n\treturn (\n\t\t<div className=\"text-center mt-3\">\n\t\t\t<div className=\"spinner-border text-secondary\" role=\"status\">\n\t\t\t\t<span className=\"sr-only\">Loading...</span>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nfunction renderBookList(props){\n\treturn (\n\t\t<div>\n\t\t\t{props.books.length > 0 ?\n\t\t\t\t\t<table className=\"table table-hover\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Title</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Subtitle</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Author(s)</th>\n\t\t\t\t\t\t\t\t<th>?</th>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{props.books.map((book, index)=>{\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t\t\t\t<th scope=\"row\"><small>{book.title}</small></th>\n\t\t\t\t\t\t\t\t\t\t<td><small>{book.subtitle}</small></td>\n\t\t\t\t\t\t\t\t\t\t<td><small>{book.authors ? book.authors.join() : \"\"}</small></td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-secondary\" onClick={function(){ props.handleGoogleBookSelect(book.googleBooksId)}}>\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-arrow-circle-right\"></i>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t:\n\t\t\t\t\t<span></span>\n\t\t\t\t}\n\n\n\t\t</div>\n\t)\n}\n\n\nfunction GoogleBooksList(props){\n\n    return(\n       <div>\n\n\t\t   {props.isGoogleLoading ? <div>{renderSpinner() }</div> : <div>{ renderBookList(props) }</div>}\n\n\t\t </div>\n    )\n}\n\nexport default GoogleBooksList","import React, {Component} from 'react'\nimport CONFIG from '../App-config'\nimport GoogleBooksList from './GoogleBooksList'\n\nclass BookEditModal extends Component {\n\n    constructor(props){\n        super(props)\n        this.handleChange = this.handleChange.bind(this)\n        this.handleSave = this.handleSave.bind(this)\n        this.handleGoogleLookup = this.handleGoogleLookup.bind(this)\n        this.handleGoogleBookSelect = this.handleGoogleBookSelect.bind(this)\n    }\n\n    handleChange(e){\n        let name = e.target.name\n        let value = e.target.value\n        this.props.handleChange(name, value)\n    }\n\n    handleSave(){\n        this.props.handleSave()\n    }\n\n    handleGoogleLookup(){\n        this.props.handleGoogleLookup()\n    }\n\n    handleGoogleBookSelect(id){\n        this.props.handleGoogleBookSelect(id)\n    }\n\n    render(){\n        const b = this.props.book\n        let modalTitle = \"Edit Book\"\n        if(this.props.mode===\"new\"){\n            modalTitle = \"New Book\"\n        }\n        return(\n            \n            <div className=\"modal fade\" id={CONFIG.modalName} tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                <div className=\"modal-dialog modal-xl\" role=\"document\">\n                    <div className=\"modal-content\">\n\n                        <form>\n\n                            <div className=\"modal-header\">\n                                <h5 className=\"modal-title\" id=\"exampleModalLabel\">{modalTitle}</h5>\n                                <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                    <span aria-hidden=\"true\">&times;</span>\n                                </button>\n                            </div>\n\n                            <div className=\"modal-body\">\n\n                                <div className=\"row\">\n                                    <div className=\"form-group col\">\n                                        <div className=\"input-group\">\n                                            <div className=\"input-group-prepend\">\n                                                <label htmlFor=\"bookTitle\"><span id=\"titleHelp\" className=\"input-group-text\">Book Title</span></label>\n                                            </div>\n\n                                            <input type=\"text\" className=\"form-control\" id=\"bookTitle\" aria-describedby=\"titleHelp\" placeholder=\"Book Title\" name=\"title\" value={b.title} onChange={this.handleChange}/>\n\n                                            <div className=\"input-group-append\">\n                                                <button type=\"button\" className=\"btn btn-primary mb-3\" onClick={this.handleGoogleLookup}>Google</button>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"form-group col\">\n                                        <div className=\"input-group\">\n                                            <div className=\"input-group-prepend\">\n                                                <label htmlFor=\"bookAuthor\"><small id=\"authorHelp\" className=\"input-group-text\">Author</small></label>\n                                            </div>\n                                            <input type=\"text\" className=\"form-control\" id=\"bookAuthor\" aria-describedby=\"authorHelp\" placeholder=\"Author\" name=\"author\" value={b.author} onChange={this.handleChange}/>\n                                        </div>\n                                    </div>\n                                </div>  \n\n                               {/*\n                                <div className=\"row\">\n                                    <div className=\"form-group col\">\n                                        <div className=\"input-group\">\n                                            <div className=\"input-group-prepend\">\n                                                <label htmlFor=\"bookStatus\"> <small id=\"statusHelp\" className=\"input-group-text\">Status</small></label>\n                                            </div>\n                                            <input type=\"text\" className=\"form-control\" id=\"bookStatus\" aria-describedby=\"statusHelp\" placeholder=\"Status\" name=\"status\" value={b.status} onChange={this.handleChange}/>\n                                        </div>\n                                    </div>\n                                    <div className=\"form-group col\">\n                                        <div className=\"input-group\">\n                                            <div className=\"input-group-prepend\">\n\n                                                <label htmlFor=\"bookYear\"> <small id=\"yearHelp\" className=\"input-group-text\">First published</small></label>\n                                            </div>\n                                            <input type=\"text\" className=\"form-control\" id=\"bookYear\" aria-describedby=\"yearHelp\" placeholder=\"Year\" name=\"year\" value={b.year} onChange={this.handleChange}/>\n                                        </div>                                       \n                                    </div>\n                                    <div className=\"form-group col\">\n                                        <div className=\"input-group\">\n                                            <div className=\"input-group-prepend\">\n                                                <label htmlFor=\"bookPriority\"> <small id=\"priorityHelp\" className=\"input-group-text\">Priority</small></label>\n                                            </div>\n                                            <input type=\"text\" className=\"form-control\" id=\"bookPriority\" aria-describedby=\"priorityHelp\" placeholder=\"Priority\" name=\"priority\" value={b.priority} onChange={this.handleChange}/>\n                                        </div>\n                                    </div>\n                                </div>\n                                */}\n                                \n                                <div>\n                                    <GoogleBooksList books={this.props.googleBooksData} isGoogleLoading={this.props.isGoogleLoading} handleGoogleBookSelect={this.handleGoogleBookSelect}></GoogleBooksList>\n                                </div>\n                            </div>\n\n                            <div className=\"modal-footer\">\n                                <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\n                                <button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\" onClick={this.handleSave}>Save changes</button>\n                            </div>\n\n                        </form>\n                           \n                    </div>\n\t\t\t\t</div>\n\t\t\t</div>\n        )\n    }\n\n}\n\nexport default BookEditModal\n","import React from 'react'\n\n\nfunction YesNoModal(props){\n    return (\n        <div className=\"modal fade yes-no-modal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"mySmallModalLabel\" aria-hidden=\"true\">\n            <div className=\"modal-dialog\">\n                <div className=\"modal-content\">\n                    <div className=\"modal-body\">\n                        <span>{props.msg}</span>\n                    </div>\n                \n                    <div className=\"modal-footer\">\n                        <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\n                        <button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\" onClick={props.handleOkClick}>OK</button>\n                    </div>\n                </div>\n                \n            </div>\n        </div>\n    )\n}\n\nexport default YesNoModal","import React, { Component } from 'react'\n\nclass Toaster extends Component {\n    constructor(props){\n        super(props)\n        this.state={\n            toasts:[]\n        }\n        this.removeToast = this.removeToast.bind(this)\n    }\n\n    addToast(toast){\n        const newToasts = this.state.toasts\n        newToasts.push(toast)\n        this.setState({\n            ...this.state,\n            toasts: newToasts\n        })\n    }\n\n    removeToast(t){\n        const newToasts = this.state.toasts.filter((toast)=>{\n            return toast.message !== t.message\n        })\n        this.setState({\n            ...this.state,\n            toasts: newToasts\n        })\n    }\n\n    render(){\n        const topDivStyle = {\n            position: 'fixed',\n            top: 120,\n            right: 10,\n            minHeight: '200px',\n        }\n\n        const posDivStyle = {\n            position: 'absolute',\n            top: 0,\n            right: 0\n        }\n\n        const toastStyle = {\n            width: '250px',\n            zIndex: 999\n        }\n\n        const callback = this.removeToast\n        const {toasts} = this.state\n\n        return (\n           \n            <div aria-live=\"polite\" aria-atomic=\"true\" style={topDivStyle}>\n                <div style={posDivStyle}>\n                { toasts.length > 0 ? this.state.toasts.map( (toast, index) => {\n                    window.$('.toast').toast('show')\n                    window.$('.toast').on('hidden.bs.toast', function () {\n                        callback(toast)\n                      })\n                    return (\n                        <div className=\"toast\" style={toastStyle} role=\"alert\" key={index} aria-live=\"assertive\" aria-atomic=\"true\" data-delay=\"2000\">\n                            <div className=\"toast-header bg-light\">\n                                <strong className=\"mr-auto\">Funky Books</strong>\n                                <small>recently</small>\n                                <button type=\"button\" className=\"ml-2 mb-1 close\" data-dismiss=\"toast\" aria-label=\"Close\">\n                                    <span aria-hidden=\"true\">&times;</span>\n                                </button>\n                            </div>\n                            <div className=\"toast-body\">\n                                {toast.message}\n                            </div>\n                        </div>\n                    )\n                }) : \"\"\n                }\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Toaster","import React from 'react'\n\nfunction renderItems(items=[], activeItem, changeHandler){\n    return(\n        items.map((item, index)=>{\n            return(\n                <div \n                    className={item.value === activeItem ? \"dropdown-item active\" : \"dropdown-item\"} \n                    key={index}\n                    data-value={item.value}\n                    onClick={((e)=>{changeHandler(e.target.getAttribute(\"data-value\"))})}\n                >\n                    {item.name}\n                </div>\n            )\n        })\n    )\n}\n\nfunction Dropdown(props){\n    // expecting props.items = array of objects with name and value, and activeItem = name of activeItem\n    let iconIndicator = props.activeItem === \"none\" ? \"fas fa-filter mr-1\" : \"fas fa-filter mr-1 text-warning\"\n    return(\n        <div className=\"dropdown\">\n            <button className=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n            <span><i className={iconIndicator}></i>{props.buttonText}</span>\n            </button>\n            <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n               {renderItems(props.items, props.activeItem, props.changeHandler)}\n            </div>\n        </div>\n    )\n}\n\nexport default Dropdown","import React from 'react'\nimport Dropdown from './Dropdown'\nimport CONFIG from '../App-config'\n\n\nfunction BookListNavBar(props){\n    return(\n        <nav className=\"navbar sticky-top navbar-expand-lg navbar-light bg-light\" >  {/*  style={navbarStyle}   */} \n        <span className=\"navbar-brand mb-0 h1\">My Booklist</span>\n        <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n            <span className=\"navbar-toggler-icon\"></span>\n        </button>\n       \n\n        <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n            <ul className=\"navbar-nav mr-auto\">\n                \n                \n            </ul>\n          \n                <div className=\"mr-1\">\n                    <Dropdown \n                        items={CONFIG.statusOptions}\n                        activeItem={props.statusFilter}\n                        buttonText=\"Status\"\n                        changeHandler={props.handleStatusFilterChange}\n                    ></Dropdown>\n                </div>\n                <div className=\"mr-1\">\n                    <Dropdown \n                        items={CONFIG.priorityOptions}\n                        activeItem={props.priorityFilter}\n                        buttonText=\"Stars\"\n                        changeHandler={props.handlePriorityFilterChange}\n                    ></Dropdown>\n                </div>\n               \n            <form \n                className=\"form-inline my-2 my-lg-0\" \n                onSubmit={((e)=>{e.preventDefault()}) }\n            >\n                <input \n                    className=\"form-control mr-sm-2\"\n                    type=\"search\"\n                    placeholder=\"Search\"\n                    aria-label=\"Search\"\n                    value={props.searchTerm}\n                    onChange={(e)=>props.handleSearchChange(e.target.value)} />\n                <button className=\"btn btn-outline-success my-2 my-sm-0\" type=\"button\" onClick={props.handleSearchClick}>Search</button>\n            </form>\n        </div> \n    </nav>\n\n    )\n}\n\nexport default BookListNavBar\n\n","import React, {Component} from 'react'\nimport axios from 'axios'\nimport BookList from './BookList'\nimport BookEditModal from './BookEditModal'\nimport YesNoModal from './YesNoModal'\nimport CONFIG from '../App-config'\nimport Toaster from './Toaster'\nimport BookListNavBar from './BookListNavBar'\n\nclass BookListContainer extends Component{\n    constructor(props){\n\n        super(props)\n\n        this.state={\n            books:[],\n            booksCache:[],\n            activeBook: {\n                _id: \"\",\n                title:\"\",\n                author: \"\",\n                year: 0,\n                status: \"none\",\n                priority: 0,\n                googleBooksId:\"\",\n                userid:\"\"\n            },\n            modalMode:\"edit\",\n            searchTerm:\"\",\n            yesNoModal:{\n                text:'Do you really want to delete '\n            },\n            googleBooksData: {},\n            statusFilter: \"none\",\n            priorityFilter: \"none\",\n            status:{\n                isBookListLoading: false,\n                isGoogleLoading: false,\n                bookUpdatingId: false\n            }\n        }\n\n        \n\t\t\n        \n        // BLNavBar functions\n\t\tthis.handleSearchClick = this.handleSearchClick.bind(this)\n        this.handleSearchChange = this.handleSearchChange.bind(this)\n\t\tthis.handleStatusFilterChange = this.handleStatusFilterChange.bind(this)\n        this.handlePriorityFilterChange = this.handlePriorityFilterChange.bind(this)\n        \n        // BookEdit functions\n\t\tthis.handleEditModalChange = this.handleEditModalChange.bind(this)\n        this.handleEditModalSave = this.handleEditModalSave.bind(this)\n\t\tthis.handleGoogleLookup = this.handleGoogleLookup.bind(this)\n        this.handleGoogleBookSelect = this.handleGoogleBookSelect.bind(this)\n        \n        // BookList functions\n        this.handleListItemClick = this.handleListItemClick.bind(this)\n        this.deleteActiveBook = this.deleteActiveBook.bind(this)\n\t\tthis.handleNewClick = this.handleNewClick.bind(this)\n\t\tthis.handleSelectChange = this.handleSelectChange.bind(this)\n        this.handleStarClick = this.handleStarClick.bind(this)\n    }\n\n    componentDidMount(){\n\n        this.toaster = React.createRef()\n\n        if (this.props.user.authdata){\n\t\t\tthis.setState({\n\t\t\t\tstatus: {...this.state.status, isBookListLoading: true}\n\t\t\t})\n\t\t\tthis.getBookList(\"\", this.props.user.authdata)\n\t\t}\n    }\n\n    setActiveBook(id){\n\t\tlet result = this.state.books.filter(book => book._id === id)\n\t\tthis.setState({\n\t\t\tactiveBook: result[0],\n\t\t\tmodalMode: \"edit\"\n\t\t})\n\t}\n\n\tgetBookList(q = \"\", auth = \"\"){\n\t\tthis.setState({\n\t\t\tstatus: {...this.state.status, isBookListLoading: true}\n\t\t}) \n\t\tlet param = (q === \"\" ? \"\" : \"?title=\" + q )\n\t\tconst url = CONFIG.baseUrl + param\n\t\tconst authdata = auth !== \"\" ? auth : this.props.user.authdata\n\t\tconst requestOptions = {\n\t\t\theaders: { 'Authorization': 'Basic ' + authdata }\n\t\t}\n        axios.get(url, requestOptions)\n      \t\t.then((response) => {\n        \tthis.setState({\n\t\t\t\tbooks: response.data,\n\t\t\t\tbooksCache: response.data,\n\t\t\t\tstatus: {...this.state.status, isBookListLoading: false}\n        \t})\n      \t})\n\t\t.catch((error) => {\n\t\t\tconsole.log(error)\n\t\t\tthis.toaster.current.addToast({message: \"Error retrieving book list... Please try again.\"})\n\t\t\tthis.setState({\n\t\t\t\terror: true,\n\t\t\t\tstatus: {...this.state.status, isBookListLoading: false}\n\t\t\t})\n\t\t});\n\t}\n\n\tfilterBookList(type, value){\n\t\tlet filteredList=[]\n\t\tif (type === \"status\"){\n\t\t\tif (value === \"none\"){\n\t\t\t\t// reset the filtered list\n\t\t\t\tfilteredList = this.state.booksCache\n\t\t\t\t// reset the value of the other filter\n\t\t\t\tthis.setState({\n\t\t\t\t\tpriorityFilter: \"none\"\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tfilteredList = this.state.booksCache.filter(book => book.status === value)\n\t\t\t}\n\t\t\t\n\t\t} else if (type === \"priority\"){\n\t\t\tif (value === \"none\"){\n\t\t\t\tfilteredList = this.state.booksCache\n\t\t\t\t// reset the value of the other filter\n\t\t\t\tthis.setState({\n\t\t\t\t\tstatusFilter: \"none\"\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tfilteredList = this.state.booksCache.filter(book => book.priority === parseInt(value))\n\t\t\t}\n\t\t\t\n\t\t}\n\t\tif (filteredList !== []){\n\t\t\tthis.setState({\n\t\t\t\tbooks: filteredList\n\t\t\t})\n\t\t}\n\t}\n\n\tasync createBook(book){\n\t\t//console.log(book)\n\t\tconst url = CONFIG.baseUrl\n\t\tconst requestOptions = await this.getAuth()\n\t\taxios.post(url, book, requestOptions)\n      \t\t.then((response) => {\n        \tif (response.status === 200){\n\t\t\t\tconsole.log(book.title, \"created successfully\")\n\t\t\t\tthis.toaster.current.addToast({message: `Book added: '${book.title}'`})\n\t\t\t\tthis.getBookList()\n\t\t\t}\n      \t})\n\t\t.catch((error) => {\n\t\t\tthis.setState({\n\t\t\t\terror: true\n\t\t\t})\n\t\t\tthis.toaster.current.addToast({message: \"Couldn't create book... Please try again.\"})\n\t\t});\n\t}\n\n\tasync deleteBook(id, title){\n\t\tconst url = CONFIG.baseUrl + \"?id=\" + id\n\t\tconst requestOptions = await this.getAuth()\n\t\taxios.delete(url, requestOptions)\n      \t\t.then((response) => {\n        \tif (response.status === 200){\n\t\t\t\t//console.log(\"deleted successfully\")\n\t\t\t\tthis.toaster.current.addToast({message: `Book deleted: '${title}'`})\n\t\t\t\tthis.getBookList()\n\t\t\t}\n      \t})\n\t\t.catch((error) => {\n\t\t\tthis.setState({\n\t\t\t\terror: true\n\t\t\t})\n\t\t\tthis.toaster.current.addToast({message: \"Couldn't delete book... Please try again.\"})\n\t\t});\n\t}\n\n\tasync updateBook(book){\n\t\tthis.setState({\n\t\t\tstatus: {...this.status, bookUpdatingId: book._id}\n\t\t})\n\t\tconst url = CONFIG.baseUrl\n\t\tconst requestOptions = await this.getAuth()\n\t\taxios.patch(url, book, requestOptions)\n      \t\t.then((response) => {\n        \tif (response.status === 200){\n\t\t\t\t//console.log(book.title, \"updated successfully\")\n\t\t\t\tthis.setState({\n\t\t\t\t\tstatus: {...this.status, bookUpdatingId: \"\"}\n\t\t\t\t})\n\t\t\t\tthis.toaster.current.addToast({message: `Book updated: '${book.title}'`})\n\t\t\t\tthis.getBookList()\n\t\t\t}\n      \t})\n\t\t.catch((error) => {\n\t\t\tthis.setState({\n\t\t\t\terror: true,\n\t\t\t\tstatus: {...this.status, bookUpdatingId: \"\"}\n\t\t\t})\n\t\t\tthis.toaster.current.addToast({message: \"Couldn't update book... Please try again.\"})\n\t\t});\n\t}\n\n\tasync getGoogleBooksData(title){\n\t\tthis.setState({\n\t\t\tstatus: {...this.state.status, isGoogleLoading: true}\n\t\t}) \n\t\tconst url = CONFIG.searchUrl + \"?q=\" + title\n\t\tconst requestOptions = await this.getAuth()\n\t\taxios.get(url, requestOptions)\n      \t\t.then((response) => {\n\t\t\t\t//console.log(response.data)\n\t\t\t\tthis.setState({\n\t\t\t\t\tgoogleBooksData: response.data,\n\t\t\t\t\tstatus: {...this.state.status, isGoogleLoading: false}\n\t\t\t  \t})\n      \t})\n\t\t.catch((error) => {\n\t\t\tthis.setState({\n\t\t\t\terror: true,\n\t\t\t\tstatus: {...this.state.status, isGoogleLoading: false}\n\t\t\t})\n\t\t\tthis.toaster.current.addToast({message: \"Couldn't get Google Books data... Please try again.\"})\n\t\t});\n\n    }\n    \n    getAuth(){\n\t\tconst requestOptions={ \n\t\t\theaders: { 'Authorization': `Basic ${this.props.user.authdata}` }\n\t\t}\n\t\treturn requestOptions\n\t}\n\n\thandleEditModalChange(name, value){\n\t\t//console.log('handleEditModalChange: ', name, value)\n        this.setState({\n\t\t\tactiveBook: {\n\t\t\t\t...this.state.activeBook,\n\t\t\t\t[name]: value\n\t\t\t}\n\t\t})\n\t}\n\thandleEditModalSave(){\n\t\tif(this.state.modalMode === \"new\"){\n\t\t\tthis.createBook(this.state.activeBook)\n\t\t} else {\n\t\t\tthis.updateBook(this.state.activeBook)\n\t\t}\n\t\t\n\t}\n\n\thandleListItemClick(id){\n\t\tthis.setActiveBook(id)\n\t}\n\n\thandleSearchChange(value){\n\t\tthis.setState({\n\t\t\tsearchTerm:value\n\t\t})\n\t\tif (value === \"\") {\n\t\t\tthis.getBookList()\n\t\t}\n\t}\n\n\thandleSearchClick(e){\n\t\t//console.log('handleSearchClick', this.state.searchTerm)\n\t\tthis.getBookList(this.state.searchTerm)\n\t}\n\n\tdeleteActiveBook(){\n\t\t//console.log('delete ', this.state.activeBook._id)\n\t\tthis.deleteBook(this.state.activeBook._id, this.state.activeBook.title)\n\t}\n\n\thandleNewClick(){\n\t\tthis.setState({\n\t\t\tmodalMode: \"new\",\n\t\t\tactiveBook: {\n\t\t\t\tid: \"\",\n\t\t\t\ttitle:\"\",\n\t\t\t\tauthor: \"\",\n\t\t\t\tyear: 0,\n\t\t\t\tstatus: \"\",\n\t\t\t\tpriority: 0,\n\t\t\t\tuserid: this.props.user._id\n\t\t\t},\n\t\t\tgoogleBooksData: {}\n\t\t})\n\t}\n\thandleGoogleLookup(){\n\t\tthis.getGoogleBooksData(this.state.activeBook.title)\n\t}\n\n\thandleGoogleBookSelect(id){\n\t\tlet filter = this.state.googleBooksData.filter(book => book.googleBooksId === id)\n\t\tlet f = filter[0]\n\t\tlet author = f.authors.join()\n\t\tthis.setState({\n\t\t\tactiveBook:{\n\t\t\t\t...this.state.activeBook,\n\t\t\t\tgoogleBooksId: id,\n\t\t\t\ttitle: f.title,\n\t\t\t\tauthor: author,\n\t\t\t\tcategories: f.categories,\n\t\t\t\tdescription: f.description,\n\t\t\t\tisbn10: f.isbn10,\n\t\t\t\tisbn13: f.isbn13,\n\t\t\t\tpages: f.pages,\n\t\t\t\tpublisher: f.publisher,\n\t\t\t\tsnippet: f.snippet,\n\t\t\t\tsubtitle: f.subtitle,\n\t\t\t\tdate: f.date\n\t\t\t}\n\t\t})\n\t}\n\n\tasync handleSelectChange(e, id){\n\t\t//let v = e.target.getAttribute(\"dataValue\")\n\t\tlet v = e.target.value\n\t\t//console.log(v, id)\n\t\tfor (let i = 0; i < this.state.books.length; i ++){\n\t\t\tif (this.state.books[i]._id === id){\n\t\t\t\tawait this.setActiveBook(id)\n\t\t\t\t\n\t\t\t\tawait this.setState({\n\t\t\t\t\tactiveBook: {\n\t\t\t\t\t\t...this.state.activeBook,\n\t\t\t\t\t\tstatus: v\n\t\t\t\t\t}\t\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tawait this.updateBook(this.state.activeBook)\n\t\t\t\t\n\t\t\t}\n\t\t}\n\n\t}\n\n\thandleStatusFilterChange(e){\n\t\tthis.setState({\n\t\t\tstatusFilter: e\n\t\t})\n\t\tthis.filterBookList(\"status\", e)\n\t}\n\n\thandlePriorityFilterChange(e){\n\t\tthis.setState({\n\t\t\tpriorityFilter: e\n\t\t})\n\t\tthis.filterBookList(\"priority\", e)\t\n    }\n    \n    async handleStarClick(index, bookId){\n\t\t//console.log(index, bookId)\n\t\t\n\t\tfor (let i = 0; i < this.state.books.length; i ++){\n\t\t\tif (this.state.books[i]._id === bookId){\n\t\t\t\tawait this.setActiveBook(bookId)\n\t\t\t\t\n\t\t\t\tawait this.setState({\n\t\t\t\t\tactiveBook: {\n\t\t\t\t\t\t...this.state.activeBook,\n\t\t\t\t\t\tpriority: index\n\t\t\t\t\t}\t\n\t\t\t\t})\n\t\t\t\t//console.log(this.state.activeBook)\n\t\t\t\t\n\t\t\t\tawait this.updateBook(this.state.activeBook)\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t\n\t\t\n    }\n    \n    render(){\n        //const user=this.props.user\n        //console.log(user)\n        return(\n            <div>\n                <BookListNavBar\n                    handleSearchClick={this.handleSearchClick} \n\t\t\t\t\tsearchTerm={this.state.searchTerm} \n\t\t\t\t\thandleSearchChange={this.handleSearchChange}\n\t\t\t\t\tstatusFilter={this.state.statusFilter}\n\t\t\t\t\thandleStatusFilterChange={this.handleStatusFilterChange}\n\t\t\t\t\tpriorityFilter={this.state.priorityFilter}\n                    handlePriorityFilterChange={this.handlePriorityFilterChange}\n                >\n                </BookListNavBar>\n\t\t\t\t\n\t\t\t\t<BookList \n\t\t\t\t\tbooks={this.state.books}\n\t\t\t\t\tclickHandler={this.handleListItemClick}\n\t\t\t\t\tselectHandler={this.handleSelectChange}\n\t\t\t\t\tnewHandler={this.handleNewClick}\n\t\t\t\t\thandleStarClick={this.handleStarClick}\n\t\t\t\t\tisLoading={this.state.status.isBookListLoading}\n\t\t\t\t\tbookUpdatingId={this.state.status.bookUpdatingId}\n\t\t\t\t></BookList>\n\t\t\t\t<BookEditModal\n\t\t\t\t\tbook={this.state.activeBook}\n\t\t\t\t\thandleChange={this.handleEditModalChange}\n\t\t\t\t\thandleSave={this.handleEditModalSave}\n\t\t\t\t\tmode={this.state.modalMode}\n\t\t\t\t\tgoogleBooksData={this.state.googleBooksData}\n\t\t\t\t\tisGoogleLoading={this.state.status.isGoogleLoading}\n\t\t\t\t\thandleGoogleLookup={this.handleGoogleLookup}\n\t\t\t\t\thandleGoogleBookSelect={this.handleGoogleBookSelect}\n\t\t\t\t></BookEditModal>\n\t\t\t\t<YesNoModal msg={this.state.yesNoModal.text + this.state.activeBook.title + '?'} handleOkClick={this.deleteActiveBook} ></YesNoModal>\n\t\t\t\t\n\t\t\t\t<Toaster ref={this.toaster}></Toaster>\n\t\t\t\t\n\t\t\t\t<footer >\n\t\t\t\t\t<p></p>\n\t\t\t\t\t<p></p>\n\t\t\t\t</footer>\n\t\t\t</div>\n        )\n    }\n\n}\n\nexport default BookListContainer","import React from 'react'\n\n\nfunction LoginModal(props){\n    return (\n        <div className=\"modal fade login-modal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"mySmallModalLabel\" aria-hidden=\"true\">\n            <div className=\"modal-dialog\">\n               \n\n                <div className=\"modal-content\">\n\n                <form>\n\n                    <div className=\"modal-header\">\n                        <h5>Login</h5>\n                    </div>\n    \n                    <div className=\"modal-body\">\n                     \n                            <div className=\"form-group\">\n                                <label htmlFor=\"inputUsername\">Username</label>\n                                <input type=\"text\" className=\"form-control\" id=\"inputUsername\" aria-describedby=\"usernameHelp\" placeholder=\"Enter username\"\n                                    value={props.login.username} name=\"username\" onChange={function(e) { props.handleChange(e.target.name, e.target.value)}  } />\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"inputPassword\">Password</label>\n                                <input type=\"password\" className=\"form-control\" id=\"inputPassword\" placeholder=\"\" \n                                    value={props.login.password} name=\"password\" onChange={function(e) { props.handleChange(e.target.name, e.target.value) } } />\n                            </div>\n                            \n                            \n                    </div>\n                \n                    <div className=\"modal-footer\">\n                        <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\n                        <button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\" onClick={props.handleSubmit}>Submit</button>\n                    </div>\n                    </form>\n                </div>\n                \n            </div>\n        </div>\n    )\n}\n\nexport default LoginModal","import React, {Component} from 'react'\nimport axios from 'axios'\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport NavBar from './components/NavBar'\nimport './App.css'\nimport CONFIG from './App-config'\nimport UserList from './components/UserList'\nimport BookListContainer from './components/BookListContainer'\nimport LoginModal from './components/LoginModal'\nimport Toaster from './components/Toaster'\n\n  \nclass App extends Component{\n    constructor(){\n        super()\n        this.state={\n            user:{\n\t\t\t\t_id:\"\",\n\t\t\t\tusername: \"\",\n\t\t\t\temail: \"\",\n\t\t\t\trole: \"\",\n\t\t\t\tauthdata: \"\"\n\t\t\t},\n\t\t\tlogin:{\n\t\t\t\tusername:\"\",\n\t\t\t\tpassword:\"\"\n\t\t\t}\n        }\n\n        this.handleLoginChange = this.handleLoginChange.bind(this)\n\t\tthis.handleLoginSubmit = this.handleLoginSubmit.bind(this)\n\t\tthis.handleLogout = this.handleLogout.bind(this)\n\n        const localUser = JSON.parse(localStorage.getItem('user'))\n\t\tif(localUser){\n\t\t\tthis.state.user = {\n                username: localUser.username,\n                authdata: localUser.authdata,\n                _id: localUser._id,\n                email: localUser.email,\n                role: localUser.role\n\t\t\t}\n        }\n        \n        // Initialize Bootstrap tooltips and popovers\n\t\twindow.$(function () {\n\t\t\twindow.$('[data-toggle=\"tooltip\"]').tooltip()\n\t\t\twindow.$('[data-toggle=\"popover\"]').popover()\n\t\t\twindow.$('.toast').toast({autohide: true, delay: 5000})\n        })\n    }\n\n    componentDidMount(){\n        this.appToaster = React.createRef()\n        this.bookListContainer = React.createRef()\n\t}\n\n    handleLoginChange(name, value){\n        this.setState({\n\t\t\tlogin: {\n\t\t\t\t...this.state.login,\n\t\t\t\t[name]: value\n\t\t\t}\n\t\t})\n\t}\n\n\thandleLoginSubmit(e){\n\t\tconst url = CONFIG.loginUrl\n\t\tconst username = this.state.login.username\n\t\tconst password = this.state.login.password\n\t\tconst authdata = window.btoa(username + \":\" + password)\n\n\t\tconst requestOptions={ \n\t\t\theaders: { 'Authorization': 'Basic ' + authdata }\n\t\t}\n\n\t\taxios.get(url,requestOptions)\n      \t.then((response) => {\n\t\t\t//console.log(response)\n\n\t\t\tconst u = response.data\n\t\t\t// store user details and basic auth credentials in local storage \n\t\t\t// to keep user logged in between page refreshes\n\t\t\tconst user = {\n\t\t\t\t_id:u._id,\n\t\t\t\tusername: u.username,\n\t\t\t\temail: u.email,\n\t\t\t\trole: u.role,\n\t\t\t\tauthdata: authdata\n\t\t\t}\n            localStorage.setItem('user', JSON.stringify(user));\n\t\t\tthis.setState({\n\t\t\t\tuser: user,\n\t\t\t\tlogin:{\n\t\t\t\t\tusername:\"\",\n\t\t\t\t\tpassword:\"\"\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis.appToaster.current.addToast({message: `Login success!  Welcome ${user.username}`})\n\t\t\tthis.bookListContainer.current.getBookList()\n\n      \t})\n\t\t.catch((error) => {\n\t\t\tthis.setState({\n\t\t\t\terror: true\n\t\t\t})\n\t\t\tconsole.error(error)\n\t\t\tthis.appToaster.current.addToast({message: `Login failed!  Please try again.`})\n\t\t});\n\t}\n\n\thandleLogout(){\n\t\tthis.appToaster.current.addToast({message: `Logged out successfully.`})\n\t\tthis.setState({\n\t\t\tbooks:[],\n\t\t\tbooksCache:[],\n\t\t\tactiveBook: {\n\t\t\t\t_id: \"\",\n\t\t\t\ttitle:\"\",\n\t\t\t\tauthor: \"\",\n\t\t\t\tyear: 0,\n\t\t\t\tstatus: \"none\",\n\t\t\t\tpriority: 0,\n\t\t\t\tgoogleBooksId:\"\",\n\t\t\t\tuserid:\"\"\n\t\t\t},\n\t\t\tuser:{\n\t\t\t\t_id:\"\",\n\t\t\t\tusername:\"\",\n\t\t\t\temail: \"\",\n\t\t\t\trole: \"\",\n\t\t\t\tauthdata: \"\"\n\t\t\t}\n\t\t})\n\t\tlocalStorage.removeItem('user')\n\t}\n\n    \n\n    render(){\n        //this.appToaster.current.addToast({message: \"Blah!\"})\n        return(\n            <div>\n                <NavBar\n                    user={this.state.user}\n                    handleLogout={this.handleLogout}\n                ></NavBar>\n                \n                <Toaster ref={this.appToaster}></Toaster>\n                <LoginModal login={this.state.login} handleChange={this.handleLoginChange} handleSubmit={this.handleLoginSubmit}></LoginModal>\n                \n                <Router>\n                    <Route path=\"/\" exact \n                        render={props => <BookListContainer ref={this.bookListContainer} {...props} user={this.state.user} />}\n                    />\n                    <Route path=\"/users/\" component={UserList} />\n                </Router>\n\n\n            </div>\n            \n           \n        )\n    }\n\n}\n\nexport default App\n\n // <Link to=\"/users/\">Users</Link>","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n//import App from './zApp';\nimport App from './App'\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}