{"version":3,"sources":["components/Dropdown.js","App-config.js","components/NavBar.js","components/Stars.js","components/BookListItem.js","components/BookList.js","components/GoogleBooksList.js","components/BookEditModal.js","components/YesNoModal.js","components/LoginModal.js","components/Toaster.js","App.js","serviceWorker.js","index.js"],"names":["Dropdown","props","iconIndicator","activeItem","react_default","a","createElement","className","type","id","data-toggle","aria-haspopup","aria-expanded","buttonText","aria-labelledby","items","arguments","length","undefined","changeHandler","map","item","index","value","key","data-value","onClick","e","target","getAttribute","name","renderItems","require","config","API_HOST","CONFIG","modalName","baseUrl","searchUrl","routesUrl","loginUrl","statusOptions","priorityOptions","NavBar","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleSearchChange","bind","assertThisInitialized","handleSearchClick","handleSubmit","handleStatusFilterChange","handlePriorityFilterChange","handleLogout","preventDefault","username","user","data-target","aria-controls","aria-label","components_Dropdown","statusFilter","priorityFilter","onSubmit","placeholder","searchTerm","onChange","Component","emptyStar","filledStar","Stars","n","nmax","res","i","push","numToArray","priority","b","BookListItem","book","thumbSrc","googleBooksId","snippet","replace","src","alt","title","author","year","style","position","bookUpdatingId","_id","left","top","role","status","selectHandler","components_Stars","data-placement","fontSize","clickHandler","data-parent","subtitle","description","categories","join","pages","publisher","isbn13","BookList","books","components_BookListItem","_this2","renderBookListItems","newHandler","renderBookList","isLoading","renderSpinner","GoogleBooksList","isGoogleLoading","scope","authors","handleGoogleBookSelect","BookEditModal","handleChange","handleSave","handleGoogleLookup","modalTitle","mode","tabIndex","aria-hidden","data-dismiss","htmlFor","aria-describedby","components_GoogleBooksList","googleBooksData","YesNoModal","msg","handleOkClick","LoginModal","login","password","Toaster","state","toasts","message","removeToast","toast","newToasts","setState","objectSpread","t","filter","toastStyle","width","zIndex","callback","aria-live","aria-atomic","right","minHeight","window","$","on","data-delay","App","booksCache","activeBook","userid","modalMode","yesNoModal","text","email","authdata","isBookListLoading","handleListItemClick","handleEditModalChange","handleEditModalSave","deleteActiveBook","handleNewClick","handleSelectChange","handleLoginChange","handleLoginSubmit","localUser","JSON","parse","localStorage","getItem","getBookList","toaster","React","createRef","tooltip","popover","autohide","delay","console","log","result","q","auth","param","url","requestOptions","headers","Authorization","axios","get","then","response","data","catch","error","current","addToast","filteredList","parseInt","getAuth","post","_this3","concat","delete","_this4","patch","_this5","_this6","defineProperty","createBook","updateBook","setActiveBook","deleteBook","getGoogleBooksData","f","isbn10","date","v","filterBookList","_this7","btoa","u","setItem","stringify","removeItem","components_NavBar","components_BookList","components_BookEditModal","components_YesNoModal","components_LoginModal","components_Toaster","ref","Boolean","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f88dc3bf.chunk.js","sourcesContent":["import React from 'react'\n\nfunction renderItems(items=[], activeItem, changeHandler){\n    return(\n        items.map((item, index)=>{\n            return(\n                <div \n                    className={item.value === activeItem ? \"dropdown-item active\" : \"dropdown-item\"} \n                    key={index}\n                    data-value={item.value}\n                    onClick={((e)=>{changeHandler(e.target.getAttribute(\"data-value\"))})}\n                >\n                    {item.name}\n                </div>\n            )\n        })\n    )\n}\n\nfunction Dropdown(props){\n    // expecting props.items = array of objects with name and value, and activeItem = name of activeItem\n    let iconIndicator = props.activeItem === \"none\" ? \"fas fa-filter mr-1\" : \"fas fa-filter mr-1 text-warning\"\n    return(\n        <div className=\"dropdown\">\n            <button className=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n            <span><i className={iconIndicator}></i>{props.buttonText}</span>\n            </button>\n            <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n               {renderItems(props.items, props.activeItem, props.changeHandler)}\n            </div>\n        </div>\n    )\n}\n\nexport default Dropdown","\nrequire('dotenv').config()\n\nconst API_HOST = \"https://limitless-headland-66330.herokuapp.com\"\n\nconst CONFIG = {\n    modalName: \"bookEditModal\",\n    baseUrl: API_HOST + \"/api/v1/books\",\n    searchUrl: API_HOST + \"/api/v1/external/google/volumes\",\n    routesUrl: API_HOST + \"/routes\",\n    loginUrl: API_HOST + \"/login\",\n    statusOptions: [\n        {name: \"None\", value: \"none\"},\n        {name: \"Wishlist\", value: \"wishlist\" },\n        {name: \"On Order\", value: \"onOrder\"},\n        {name: \"Purchased\", value: \"purchased\"},\n        {name: \"Reading\", value: \"reading\"},\n        {name: \"Read\", value: \"read\"}\n        ],\n\n    priorityOptions: [\n        {name: \"None\", value: \"none\"},\n        {name: \"0\", value: 0},\n        {name: \"1\", value: 1},\n        {name: \"2\", value: 2},\n        {name: \"3\", value: 3},\n        {name: \"4\", value: 4},\n        {name: \"5\", value: 5}\n    ]\n}\n\nexport default CONFIG","import React, {Component} from 'react'\nimport Dropdown from './Dropdown'\nimport CONFIG from '../App-config';\n\n\nclass NavBar extends Component{\n    constructor(props){\n        super(props)\n        this.handleSearchChange = this.handleSearchChange.bind(this)\n        this.handleSearchClick = this.handleSearchClick.bind(this)\n        this.handleSubmit = this.handleSubmit.bind(this)\n        this.handleStatusFilterChange = this.handleStatusFilterChange.bind(this)\n        this.handlePriorityFilterChange = this.handlePriorityFilterChange.bind(this)\n        this.handleLogout = this.handleLogout.bind(this)\n    }\n\n    handleSearchChange(e){\n        const value = e.target.value\n        this.props.handleSearchChange(value)\n    }\n    handleSearchClick(){\n        this.props.handleSearchClick()\n    }\n    handleSubmit(e){\n        this.props.handleSearchClick()\n        e.preventDefault()\n    }\n    handlePriorityFilterChange(e){\n        this.props.handlePriorityFilterChange(e)\n    }\n    handleStatusFilterChange(e){\n        //console.log(e)\n        this.props.handleStatusFilterChange(e)\n    }\n\n    handleLogout(){\n        this.props.handleLogout()\n    }\n\n    render(){\n        const username = this.props.user.username || \"\"\n        return (\n            <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n                <span className=\"navbar-brand mb-0 h1\"><i className=\"fas fa-book\"></i> Funky Books</span>\n                <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                    <span className=\"navbar-toggler-icon\"></span>\n                </button>\n                <div className=\"ml-2 mr-2\">\n                    {   username === \"\" ? \n                        <button type=\"button\" className=\"btn btn-outline-primary btn-sm\" data-toggle=\"modal\" data-target=\".login-modal\">Login</button> : \n                        <div><span className=\"mr-1\">{username}</span><button type=\"button\" className=\"btn btn-outline-secondary btn-sm\" onClick={this.handleLogout}>Logout</button> </div> \n                    }\n                </div>\n    \n                <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n                    <ul className=\"navbar-nav mr-auto\">\n                        \n                        \n                    </ul>\n                  \n                        <div className=\"mr-1\">\n                            <Dropdown \n                                items={CONFIG.statusOptions}\n                                activeItem={this.props.statusFilter}\n                                buttonText=\"Status\"\n                                changeHandler={this.handleStatusFilterChange}\n                            ></Dropdown>\n                        </div>\n                        <div className=\"mr-1\">\n                            <Dropdown \n                                items={CONFIG.priorityOptions}\n                                activeItem={this.props.priorityFilter}\n                                buttonText=\"Stars\"\n                                changeHandler={this.handlePriorityFilterChange}\n                            ></Dropdown>\n                        </div>\n                       \n                    <form className=\"form-inline my-2 my-lg-0\" onSubmit={this.handleSubmit}>\n                        <input className=\"form-control mr-sm-2\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\" value={this.props.searchTerm} onChange={this.handleSearchChange} />\n                        <button className=\"btn btn-outline-success my-2 my-sm-0\" type=\"button\" onClick={this.handleSearchClick}>Search</button>\n                    </form>\n                </div> \n            </nav>\n        )\n    }\n   \n}\n\nexport default NavBar","import React from 'react'\n\nlet emptyStar = (\n    <i className=\"far fa-star\"></i>\n)\nlet filledStar = (\n    <i className=\"fas fa-star\"></i>\n)\n\nfunction numToArray(n, nmax){\n    let res=[]\n    for (let i = 1; i < nmax+1; i++){\n        if(i <= n){\n            res.push(1)\n        } else {\n            res.push(0)\n        }\n    }\n    return res\n}\n\nfunction Stars(props){\n    let a = numToArray(props.priority, 5)\n    return(\n        <div className=\"row text-warning\">\n            {a.map((b, index)=>{\n                return b === 1 ? <span key={index}>{filledStar}</span> : <span key={index}>{emptyStar}</span>\n            })}\n\n        </div>\n    )\n\n}\n\nexport default Stars","import React from 'react'\nimport CONFIG from '../App-config'\nimport Stars from './Stars'\n\nfunction renderSpinner(){\n    const spinnerContainerStyle = {position: 'absolute', left: '0px', top: '0px'}\n    return (\n\t\t<div className=\"col-12 text-center mt-3\" style={spinnerContainerStyle}>\n\t\t\t<div className=\"spinner-border text-secondary\" role=\"status\">\n\t\t\t\t<span className=\"sr-only\">Loading...</span>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nfunction BookListItem(props){\n\n    let b = props.book\n    let thumbSrc=\"https://books.google.com/books/content?id=\"\n    if (b.googleBooksId && b.googleBooksId !== \"\"){\n        thumbSrc += b.googleBooksId\n    } else {\n        thumbSrc += \"ZlU3DwAAQBAJ\"\n    }\n    thumbSrc += \"&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api\"\n\n    // Google's snippet field contains escaped quote characters.  \n    // Replace these with apostrophe and speech marks\n    let snippet = \"\"\n    if(b.snippet){\n        snippet = b.snippet.replace(/&quot;/g, '\"')\n        snippet = snippet.replace(/&#39;/g, \"'\")\n    }\n\n    const snippetContainerStyle = {position: 'relative'}\n\n    return (\n\n        <div className=\"card\">\n            {/* card-header: because card-body used for collapse element */}\n            <div className=\"card-header\">\n                <div className=\"media\">\n\n                    <img \n                        src={thumbSrc}\n                        className=\"mr-2 bl-thumb\"\n                        alt=\"book cover\"\n                    ></img>\n\n                    <div className=\"media-body\">\n                        <div className=\"container-fluid row\">\n\n                            {/* Title & Author */}\n                            <div className=\"col-3\">\n                                <h5 className=\"mt-0\">{b.title || \"loading\"} </h5>\n                                <div className=\"d-flex flex-row justify-content-between\">\n                                    <div>{b.author}   <span>{b.year ? <span>({b.year})</span> : <span></span>  }</span></div>\n                                </div>\n                                \n                            </div>\n                             {/* end: Title & Author */}\n                            \n                            \n                            <div className=\"col-6\" style={snippetContainerStyle}>\n                                <p><small>{snippet}</small></p>\n                                {props.bookUpdatingId === props.book._id ? renderSpinner() : <span></span> }\n                            </div>\n                        \n\n                            {/* Action Buttons */}\n                            <div className=\"col-3\">\n                                <div className=\"row\">\n                                    \n                                    {/* Status & Stars */}\n                                    <div className=\"col-6\">\n\n                                        <div className=\"mr-1 mb-4\"> \n                                            <select value={b.status || \"\"} onChange={(e)=>{props.selectHandler(e, b._id)}}>\n                                                <option value=\"wishlist\">Wishlist</option>\n                                                <option value=\"onOrder\">On Order</option>\n                                                <option value=\"purchased\">Purchased</option>\n                                                <option value=\"reading\">Reading</option>\n                                                <option value=\"read\">Read</option>\n                                            </select>\n                                        </div>\n\n                                        <div className=\"mr-1 ml-3\">\n                                            <Stars priority={b.priority}></Stars>\n                                        </div>\n\n                                    </div>\n                                    {/* end: Status & Stars */}\n   \n                                    {/* Edit & Delete & details */}\n                                    <div className=\"col-6\">\n                                        <div className=\"mr-1 ml-3 mb-3\">\n                                            <span data-toggle=\"tooltip\" data-placement=\"top\" title=\"edit book\">\n                                                <span \n                                                    style={{fontSize: \"1.2em\"}}\n                                                    className=\"mr-3 text-primary\"\n                                                    data-toggle=\"modal\"\n                                                    data-target={\"#\" + CONFIG.modalName}\n                                                    onClick={()=>{props.clickHandler(b._id)}}\n                                                >\n                                                    <i className=\"fas fa-edit\"></i>\n                                                </span>\n                                            </span>\n\n                                            <span data-toggle=\"tooltip\" data-placement=\"top\" title=\"delete book\">\n                                                <span\n                                                    style={{fontSize: \"1.2em\"}}\n                                                    className=\"text-danger\"\n                                                    data-toggle=\"modal\"\n                                                    data-target=\".yes-no-modal\"\n                                                    onClick={()=>{props.clickHandler(b._id)}}\n                                                >\n                                                    <i className=\"fas fa-trash-alt\"></i>\n                                                </span>\n                                            </span>\n                                        </div>\n\n                                        <div className=\"\">\n                                            <button type=\"button\" \n                                                        className=\"btn btn-link\" \n                                                        data-toggle=\"collapse\"\n                                                        data-target={\"#collapse\" + b._id} \n                                            ><small>details...</small>\n                                            </button>\n                                        </div>\n                                    \n                                    </div>\n                                    {/* end: Edit & Delete & details */}\n\n                                </div>\n                                \n                            </div>\n                            {/* end: Action Buttons */}\n\n                        </div>\n                  \n                    </div>\n                </div>\n            </div>\n\n            {/* Collapse Element - contains further details about book */}\n            <div className=\"collapse\" id={\"collapse\" + b._id} data-parent=\"#accordionList\">\n                <div className=\"card-body\">\n                    <h5>{b.title}{b.subtitle ? <span>: <small>{b.subtitle}</small></span> : <span></span>}</h5>\n                    <div>\n                        <p>\n                            {b.description} \n                        </p>\n                        <div className=\"row\">\n\n                        </div>\n                        <div>{b.categories ? <span>{b.categories.join()}</span>: <span></span>}</div>\n                        <div>{b.pages ? <span>{b.pages}pp</span> : <span></span>  }</div>\n                        <div>{b.publisher ? <span>{b.publisher}</span> : <span></span> }</div>\n                        <span>{b.isbn13 ? <span>ISBN: {b.isbn13}</span> : <span></span>}</span>\n                    </div>\n                </div>\n            </div>\n            \n        </div>\n\n    )\n}\n\nexport default BookListItem\n\n","import React, {Component} from 'react'\nimport BookListItem from './BookListItem'\nimport CONFIG from '../App-config'\n\nclass BookList extends Component {\n\n    renderBookListItems(){\n        if(this.props.books){\n            return this.props.books.map((b)=>[\n                <BookListItem book={b} bookUpdatingId={this.props.bookUpdatingId} key={b._id} clickHandler={this.props.clickHandler} selectHandler={this.props.selectHandler}></BookListItem>\n           ]\n               \n           )\n        }\n    }\n\n    renderSpinner(){\n        return (\n            <div className=\"text-center mt-3\">\n                <div className=\"spinner-border text-secondary\" role=\"status\">\n                    <span className=\"sr-only\">Loading...</span>\n                </div>\n            </div>\n        )\n    }\n\n    renderBookList(){\n        return (\n            <div>\n                <div className=\"accordion\" id=\"accordionList\">\n                    {this.renderBookListItems()}\n                </div>\n                <div className=\"d-flex justify-content-end\">\n                    <div className=\"mr-2\">\n                        <span data-toggle=\"tooltip\" data-placement=\"top\" title=\"new book\">\n                            <span \n                                className=\"mr-3 text-success\"\n                                data-toggle=\"modal\"\n                                data-target={\"#\" + CONFIG.modalName}\n                                onClick={()=>{this.props.newHandler()}}\n                            >\n                                <span style={{fontSize: \"1.2em\"}}>\n                                    <i className=\"far fa-plus-square\"></i>\n                                </span>\n                                <span className=\"ml-2\">Add</span>\n                                \n\n                            </span>\n                        </span>\n                    </div>\n                </div>\n            </div>\n        )\n\n    }\n\n    render(){\n        return (\n            <div className=\"row justify-content-center\">\n                <div className=\"col-10\">\n                    { this.renderBookList() }\n                    { this.props.isLoading ? this.renderSpinner() :  <span></span>}\n                   \n                </div>\n            </div>\n        )\n    }\n}\n\nexport default BookList\n","import React from 'react'\n\nfunction renderSpinner(){\n\treturn (\n\t\t<div className=\"text-center mt-3\">\n\t\t\t<div className=\"spinner-border text-secondary\" role=\"status\">\n\t\t\t\t<span className=\"sr-only\">Loading...</span>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nfunction renderBookList(props){\n\treturn (\n\t\t<div>\n\t\t\t{props.books.length > 0 ?\n\t\t\t\t\t<table className=\"table table-hover\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Title</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Subtitle</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">Author(s)</th>\n\t\t\t\t\t\t\t\t<th>?</th>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{props.books.map((book, index)=>{\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t\t\t\t<th scope=\"row\"><small>{book.title}</small></th>\n\t\t\t\t\t\t\t\t\t\t<td><small>{book.subtitle}</small></td>\n\t\t\t\t\t\t\t\t\t\t<td><small>{book.authors ? book.authors.join() : \"\"}</small></td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-secondary\" onClick={function(){ props.handleGoogleBookSelect(book.googleBooksId)}}>\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-arrow-circle-right\"></i>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t:\n\t\t\t\t\t<span></span>\n\t\t\t\t}\n\n\n\t\t</div>\n\t)\n}\n\n\nfunction GoogleBooksList(props){\n\n    return(\n       <div>\n\n\t\t   {props.isGoogleLoading ? <div>{renderSpinner() }</div> : <div>{ renderBookList(props) }</div>}\n\n\t\t </div>\n    )\n}\n\nexport default GoogleBooksList","import React, {Component} from 'react'\nimport CONFIG from '../App-config'\nimport GoogleBooksList from './GoogleBooksList'\n\nclass BookEditModal extends Component {\n\n    constructor(props){\n        super(props)\n        this.handleChange = this.handleChange.bind(this)\n        this.handleSave = this.handleSave.bind(this)\n        this.handleGoogleLookup = this.handleGoogleLookup.bind(this)\n        this.handleGoogleBookSelect = this.handleGoogleBookSelect.bind(this)\n    }\n\n    handleChange(e){\n        let name = e.target.name\n        let value = e.target.value\n        this.props.handleChange(name, value)\n    }\n\n    handleSave(){\n        this.props.handleSave()\n    }\n\n    handleGoogleLookup(){\n        this.props.handleGoogleLookup()\n    }\n\n    handleGoogleBookSelect(id){\n        this.props.handleGoogleBookSelect(id)\n    }\n\n    render(){\n        const b = this.props.book\n        let modalTitle = \"Edit Book\"\n        if(this.props.mode===\"new\"){\n            modalTitle = \"New Book\"\n        }\n        return(\n            \n            <div className=\"modal fade\" id={CONFIG.modalName} tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                <div className=\"modal-dialog modal-xl\" role=\"document\">\n                    <div className=\"modal-content\">\n\n                        <form>\n\n                            <div className=\"modal-header\">\n                                <h5 className=\"modal-title\" id=\"exampleModalLabel\">{modalTitle}</h5>\n                                <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                    <span aria-hidden=\"true\">&times;</span>\n                                </button>\n                            </div>\n\n                            <div className=\"modal-body\">\n\n                                <div className=\"row\">\n                                    <div className=\"form-group col\">\n                                        <div className=\"input-group\">\n                                            <div className=\"input-group-prepend\">\n                                                <label htmlFor=\"bookTitle\"><span id=\"titleHelp\" className=\"input-group-text\">Book Title</span></label>\n                                            </div>\n\n                                            <input type=\"text\" className=\"form-control\" id=\"bookTitle\" aria-describedby=\"titleHelp\" placeholder=\"Book Title\" name=\"title\" value={b.title} onChange={this.handleChange}/>\n\n                                            <div className=\"input-group-append\">\n                                                <button type=\"button\" className=\"btn btn-primary mb-3\" onClick={this.handleGoogleLookup}>Google</button>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"form-group col\">\n                                        <div className=\"input-group\">\n                                            <div className=\"input-group-prepend\">\n                                                <label htmlFor=\"bookAuthor\"><small id=\"authorHelp\" className=\"input-group-text\">Author</small></label>\n                                            </div>\n                                            <input type=\"text\" className=\"form-control\" id=\"bookAuthor\" aria-describedby=\"authorHelp\" placeholder=\"Author\" name=\"author\" value={b.author} onChange={this.handleChange}/>\n                                        </div>\n                                    </div>\n                                </div>  \n\n                               \n                                <div className=\"row\">\n                                    <div className=\"form-group col\">\n                                        <div className=\"input-group\">\n                                            <div className=\"input-group-prepend\">\n                                                <label htmlFor=\"bookStatus\"> <small id=\"statusHelp\" className=\"input-group-text\">Status</small></label>\n                                            </div>\n                                            <input type=\"text\" className=\"form-control\" id=\"bookStatus\" aria-describedby=\"statusHelp\" placeholder=\"Status\" name=\"status\" value={b.status} onChange={this.handleChange}/>\n                                        </div>\n                                    </div>\n                                    <div className=\"form-group col\">\n                                        <div className=\"input-group\">\n                                            <div className=\"input-group-prepend\">\n\n                                                <label htmlFor=\"bookYear\"> <small id=\"yearHelp\" className=\"input-group-text\">First published</small></label>\n                                            </div>\n                                            <input type=\"text\" className=\"form-control\" id=\"bookYear\" aria-describedby=\"yearHelp\" placeholder=\"Year\" name=\"year\" value={b.year} onChange={this.handleChange}/>\n                                        </div>                                       \n                                    </div>\n                                    <div className=\"form-group col\">\n                                        <div className=\"input-group\">\n                                            <div className=\"input-group-prepend\">\n                                                <label htmlFor=\"bookPriority\"> <small id=\"priorityHelp\" className=\"input-group-text\">Priority</small></label>\n                                            </div>\n                                            <input type=\"text\" className=\"form-control\" id=\"bookPriority\" aria-describedby=\"priorityHelp\" placeholder=\"Priority\" name=\"priority\" value={b.priority} onChange={this.handleChange}/>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div>\n                                    <GoogleBooksList books={this.props.googleBooksData} isGoogleLoading={this.props.isGoogleLoading} handleGoogleBookSelect={this.handleGoogleBookSelect}></GoogleBooksList>\n                                </div>\n                            </div>\n\n                            <div className=\"modal-footer\">\n                                <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\n                                <button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\" onClick={this.handleSave}>Save changes</button>\n                            </div>\n\n                        </form>\n                           \n                    </div>\n\t\t\t\t</div>\n\t\t\t</div>\n        )\n    }\n\n}\n\nexport default BookEditModal\n","import React from 'react'\n\n\nfunction YesNoModal(props){\n    return (\n        <div className=\"modal fade yes-no-modal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"mySmallModalLabel\" aria-hidden=\"true\">\n            <div className=\"modal-dialog\">\n                <div className=\"modal-content\">\n                    <div className=\"modal-body\">\n                        <span>{props.msg}</span>\n                    </div>\n                \n                    <div className=\"modal-footer\">\n                        <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\n                        <button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\" onClick={props.handleOkClick}>OK</button>\n                    </div>\n                </div>\n                \n            </div>\n        </div>\n    )\n}\n\nexport default YesNoModal","import React from 'react'\n\n\nfunction LoginModal(props){\n    return (\n        <div className=\"modal fade login-modal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"mySmallModalLabel\" aria-hidden=\"true\">\n            <div className=\"modal-dialog\">\n               \n\n                <div className=\"modal-content\">\n\n                <form>\n\n                    <div className=\"modal-header\">\n                        <h5>Login</h5>\n                    </div>\n    \n                    <div className=\"modal-body\">\n                     \n                            <div className=\"form-group\">\n                                <label htmlFor=\"inputUsername\">Username</label>\n                                <input type=\"text\" className=\"form-control\" id=\"inputUsername\" aria-describedby=\"usernameHelp\" placeholder=\"Enter username\"\n                                    value={props.login.username} name=\"username\" onChange={function(e) { props.handleChange(e.target.name, e.target.value)}  } />\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"inputPassword\">Password</label>\n                                <input type=\"password\" className=\"form-control\" id=\"inputPassword\" placeholder=\"\" \n                                    value={props.login.password} name=\"password\" onChange={function(e) { props.handleChange(e.target.name, e.target.value) } } />\n                            </div>\n                            \n                            \n                    </div>\n                \n                    <div className=\"modal-footer\">\n                        <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\n                        <button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\" onClick={props.handleSubmit}>Submit</button>\n                    </div>\n                    </form>\n                </div>\n                \n            </div>\n        </div>\n    )\n}\n\nexport default LoginModal","import React, { Component } from 'react'\n\nclass Toaster extends Component {\n    constructor(props){\n        super(props)\n        this.state={\n            toasts:[\n                {message: \"Welcome to Funky Books! \\n New Notifications appear here.\"},\n            ]\n        }\n        this.removeToast = this.removeToast.bind(this)\n    }\n\n    addToast(toast){\n        const newToasts = this.state.toasts\n        newToasts.push(toast)\n        this.setState({\n            ...this.state,\n            toasts: newToasts\n        })\n    }\n\n    removeToast(t){\n        const newToasts = this.state.toasts.filter((toast)=>{\n            return toast.message !== t.message\n        })\n        this.setState({\n            ...this.state,\n            toasts: newToasts\n        })\n    }\n\n    render(){\n        const topDivStyle = {\n            position: 'absolute',\n            top: 50,\n            right: 10,\n            minHeight: '200px',\n        }\n\n        const posDivStyle = {\n            position: 'absolute',\n            top: 0,\n            right: 0\n        }\n\n        const toastStyle = {\n            width: '250px',\n            zIndex: 999\n        }\n\n        const callback = this.removeToast\n        const {toasts} = this.state\n\n        return (\n           \n            <div aria-live=\"polite\" aria-atomic=\"true\" style={topDivStyle}>\n                <div style={posDivStyle}>\n                { toasts.length > 0 ? this.state.toasts.map( (toast, index) => {\n                    window.$('.toast').toast('show')\n                    window.$('.toast').on('hidden.bs.toast', function () {\n                        callback(toast)\n                      })\n                    return (\n                        <div className=\"toast\" style={toastStyle} role=\"alert\" key={index} aria-live=\"assertive\" aria-atomic=\"true\" data-delay=\"2000\">\n                            <div className=\"toast-header\">\n                                <strong className=\"mr-auto\">Funky Books</strong>\n                                <small>recently</small>\n                                <button type=\"button\" className=\"ml-2 mb-1 close\" data-dismiss=\"toast\" aria-label=\"Close\">\n                                    <span aria-hidden=\"true\">&times;</span>\n                                </button>\n                            </div>\n                            <div className=\"toast-body\">\n                                {toast.message}\n                            </div>\n                        </div>\n                    )\n                }) : \"\"\n                }\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Toaster","import React, {Component} from 'react'\nimport axios from 'axios'\nimport './App.css'\nimport NavBar from './components/NavBar'\nimport BookList from './components/BookList'\nimport BookEditModal from './components/BookEditModal'\nimport YesNoModal from './components/YesNoModal'\nimport LoginModal from './components/LoginModal'\nimport CONFIG from './App-config'\nimport Toaster from './components/Toaster'\n\nclass App extends Component {\n\n\tconstructor(){\n\t\tsuper()\n\t\tthis.state={\n\t\t\tbooks:[],\n\t\t\tbooksCache:[],\n\t\t\tactiveBook: {\n\t\t\t\t_id: \"\",\n\t\t\t\ttitle:\"\",\n\t\t\t\tauthor: \"\",\n\t\t\t\tyear: 0,\n\t\t\t\tstatus: \"none\",\n\t\t\t\tpriority: 0,\n\t\t\t\tgoogleBooksId:\"\",\n\t\t\t\tuserid:\"\"\n\t\t\t},\n\t\t\tmodalMode:\"edit\",\n\t\t\tsearchTerm:\"\",\n\t\t\tyesNoModal:{\n\t\t\t\ttext:'Do you really want to delete '\n\t\t\t},\n\t\t\tgoogleBooksData: {},\n\t\t\tstatusFilter: \"none\",\n\t\t\tpriorityFilter: \"none\",\n\t\t\tuser:{\n\t\t\t\t_id:\"\",\n\t\t\t\tusername: \"\",\n\t\t\t\temail: \"\",\n\t\t\t\trole: \"\",\n\t\t\t\tauthdata: \"\"\n\t\t\t},\n\t\t\tlogin:{\n\t\t\t\tusername:\"\",\n\t\t\t\tpassword:\"\"\n\t\t\t},\n\t\t\tstatus:{\n\t\t\t\tisBookListLoading: false,\n\t\t\t\tisGoogleLoading: false,\n\t\t\t\tbookUpdatingId: false\n\t\t\t}\n\t\t}\n\n\t\tthis.handleListItemClick = this.handleListItemClick.bind(this)\n\t\tthis.handleEditModalChange = this.handleEditModalChange.bind(this)\n\t\tthis.handleEditModalSave = this.handleEditModalSave.bind(this)\n\t\tthis.handleSearchClick = this.handleSearchClick.bind(this)\n\t\tthis.handleSearchChange = this.handleSearchChange.bind(this)\n\t\tthis.deleteActiveBook = this.deleteActiveBook.bind(this)\n\t\tthis.handleNewClick = this.handleNewClick.bind(this)\n\t\tthis.handleGoogleLookup = this.handleGoogleLookup.bind(this)\n\t\tthis.handleGoogleBookSelect = this.handleGoogleBookSelect.bind(this)\n\t\tthis.handleSelectChange = this.handleSelectChange.bind(this)\n\t\tthis.handleStatusFilterChange = this.handleStatusFilterChange.bind(this)\n\t\tthis.handlePriorityFilterChange = this.handlePriorityFilterChange.bind(this)\n\t\tthis.handleLoginChange = this.handleLoginChange.bind(this)\n\t\tthis.handleLoginSubmit = this.handleLoginSubmit.bind(this)\n\t\tthis.handleLogout = this.handleLogout.bind(this)\n\n\t\tconst localUser = JSON.parse(localStorage.getItem('user'))\n\t\tif(localUser){\n\t\t\tthis.state.user = {\n\t\t\t\t\tusername: localUser.username,\n\t\t\t\t\tauthdata: localUser.authdata,\n\t\t\t\t\t_id: localUser._id,\n\t\t\t\t\temail: localUser.email,\n\t\t\t\t\trole: localUser.role\n\t\t\t\t}\n\t\t}\n\n\t}\n\n\tcomponentDidMount(){\n\t\t\n\t\tif (this.state.user.authdata){\n\t\t\tthis.setState({\n\t\t\t\tstatus: {...this.state.status, isBookListLoading: true}\n\t\t\t})\n\t\t\tthis.getBookList(\"\", this.state.user.authdata)\n\t\t}\n\t\t\n\t\tthis.toaster = React.createRef()\n\n\t\t// Initialize Bootstrap tooltips and popovers\n\t\twindow.$(function () {\n\t\t\twindow.$('[data-toggle=\"tooltip\"]').tooltip()\n\t\t\twindow.$('[data-toggle=\"popover\"]').popover()\n\t\t\twindow.$('.toast').toast({autohide: true, delay: 5000})\n\t\t})\n\t}\n\n\tasync getLocalUser(){\n\t\tconst localUser = JSON.parse(localStorage.getItem('user'))\n\t\tif(localUser.username){\n\t\t\tconsole.log('localUser:', localUser)\n\t\t\tthis.setState({\n\t\t\t\tuser: {\n\t\t\t\t\tusername: localUser.username,\n\t\t\t\t\tauthdata: localUser.authdata,\n\t\t\t\t\t_id: localUser._id,\n\t\t\t\t\temail: localUser.email,\n\t\t\t\t\trole: localUser.role\n\t\t\t\t}\n\t\t\t})\n\t\t\tconsole.log('state.user', this.state.user)\n\t\t\treturn localUser.authdata\n\t\t}\n\t\treturn \"\"\n\t}\n\n\tsetActiveBook(id){\n\t\tlet result = this.state.books.filter(book => book._id === id)\n\t\tthis.setState({\n\t\t\tactiveBook: result[0],\n\t\t\tmodalMode: \"edit\"\n\t\t})\n\t}\n\n\tgetBookList(q = \"\", auth = \"\"){\n\t\tthis.setState({\n\t\t\tstatus: {...this.state.status, isBookListLoading: true}\n\t\t}) \n\t\tlet param = (q === \"\" ? \"\" : \"?title=\" + q )\n\t\tconst url = CONFIG.baseUrl + param\n\t\tconst authdata = auth !== \"\" ? auth : this.state.user.authdata\n\t\tconst requestOptions = {\n\t\t\theaders: { 'Authorization': 'Basic ' + authdata }\n\t\t}\n        axios.get(url, requestOptions)\n      \t\t.then((response) => {\n        \tthis.setState({\n\t\t\t\tbooks: response.data,\n\t\t\t\tbooksCache: response.data,\n\t\t\t\tstatus: {...this.state.status, isBookListLoading: false}\n        \t})\n      \t})\n\t\t.catch((error) => {\n\t\t\tconsole.log(error)\n\t\t\tthis.toaster.current.addToast({message: \"Error retrieving book list... Please try again.\"})\n\t\t\tthis.setState({\n\t\t\t\terror: true,\n\t\t\t\tstatus: {...this.state.status, isBookListLoading: false}\n\t\t\t})\n\t\t});\n\t}\n\n\tfilterBookList(type, value){\n\t\tlet filteredList=[]\n\t\tif (type === \"status\"){\n\t\t\tif (value === \"none\"){\n\t\t\t\t// reset the filtered list\n\t\t\t\tfilteredList = this.state.booksCache\n\t\t\t\t// reset the value of the other filter\n\t\t\t\tthis.setState({\n\t\t\t\t\tpriorityFilter: \"none\"\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tfilteredList = this.state.booksCache.filter(book => book.status === value)\n\t\t\t}\n\t\t\t\n\t\t} else if (type === \"priority\"){\n\t\t\tif (value === \"none\"){\n\t\t\t\tfilteredList = this.state.booksCache\n\t\t\t\t// reset the value of the other filter\n\t\t\t\tthis.setState({\n\t\t\t\t\tstatusFilter: \"none\"\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tfilteredList = this.state.booksCache.filter(book => book.priority === parseInt(value))\n\t\t\t}\n\t\t\t\n\t\t}\n\t\tif (filteredList !== []){\n\t\t\tthis.setState({\n\t\t\t\tbooks: filteredList\n\t\t\t})\n\t\t}\n\t}\n\n\tasync createBook(book){\n\t\t//console.log(book)\n\t\tconst url = CONFIG.baseUrl\n\t\tconst requestOptions = await this.getAuth()\n\t\taxios.post(url, book, requestOptions)\n      \t\t.then((response) => {\n        \tif (response.status === 200){\n\t\t\t\tconsole.log(book.title, \"created successfully\")\n\t\t\t\tthis.toaster.current.addToast({message: `Book added: '${book.title}'`})\n\t\t\t\tthis.getBookList()\n\t\t\t}\n      \t})\n\t\t.catch((error) => {\n\t\t\tthis.setState({\n\t\t\t\terror: true\n\t\t\t})\n\t\t\tthis.toaster.current.addToast({message: \"Couldn't create book... Please try again.\"})\n\t\t});\n\t}\n\n\tasync deleteBook(id, title){\n\t\tconst url = CONFIG.baseUrl + \"?id=\" + id\n\t\tconst requestOptions = await this.getAuth()\n\t\taxios.delete(url, requestOptions)\n      \t\t.then((response) => {\n        \tif (response.status === 200){\n\t\t\t\t//console.log(\"deleted successfully\")\n\t\t\t\tthis.toaster.current.addToast({message: `Book deleted: '${title}'`})\n\t\t\t\tthis.getBookList()\n\t\t\t}\n      \t})\n\t\t.catch((error) => {\n\t\t\tthis.setState({\n\t\t\t\terror: true\n\t\t\t})\n\t\t\tthis.toaster.current.addToast({message: \"Couldn't delete book... Please try again.\"})\n\t\t});\n\t}\n\n\tasync updateBook(book){\n\t\tthis.setState({\n\t\t\tstatus: {...this.status, bookUpdatingId: book._id}\n\t\t})\n\t\tconst url = CONFIG.baseUrl\n\t\tconst requestOptions = await this.getAuth()\n\t\taxios.patch(url, book, requestOptions)\n      \t\t.then((response) => {\n        \tif (response.status === 200){\n\t\t\t\t//console.log(book.title, \"updated successfully\")\n\t\t\t\tthis.setState({\n\t\t\t\t\tstatus: {...this.status, bookUpdatingId: \"\"}\n\t\t\t\t})\n\t\t\t\tthis.toaster.current.addToast({message: `Book updated: '${book.title}'`})\n\t\t\t\tthis.getBookList()\n\t\t\t}\n      \t})\n\t\t.catch((error) => {\n\t\t\tthis.setState({\n\t\t\t\terror: true,\n\t\t\t\tstatus: {...this.status, bookUpdatingId: \"\"}\n\t\t\t})\n\t\t\tthis.toaster.current.addToast({message: \"Couldn't update book... Please try again.\"})\n\t\t});\n\t}\n\n\tasync getGoogleBooksData(title){\n\t\tthis.setState({\n\t\t\tstatus: {...this.state.status, isGoogleLoading: true}\n\t\t}) \n\t\tconst url = CONFIG.searchUrl + \"?q=\" + title\n\t\tconst requestOptions = await this.getAuth()\n\t\taxios.get(url, requestOptions)\n      \t\t.then((response) => {\n\t\t\t\t//console.log(response.data)\n\t\t\t\tthis.setState({\n\t\t\t\t\tgoogleBooksData: response.data,\n\t\t\t\t\tstatus: {...this.state.status, isGoogleLoading: false}\n\t\t\t  \t})\n      \t})\n\t\t.catch((error) => {\n\t\t\tthis.setState({\n\t\t\t\terror: true,\n\t\t\t\tstatus: {...this.state.status, isGoogleLoading: false}\n\t\t\t})\n\t\t\tthis.toaster.current.addToast({message: \"Couldn't get Google Books data... Please try again.\"})\n\t\t});\n\n\t}\n\n\thandleEditModalChange(name, value){\n\t\t//console.log('handleEditModalChange: ', name, value)\n        this.setState({\n\t\t\tactiveBook: {\n\t\t\t\t...this.state.activeBook,\n\t\t\t\t[name]: value\n\t\t\t}\n\t\t})\n\t}\n\thandleEditModalSave(){\n\t\tif(this.state.modalMode === \"new\"){\n\t\t\tthis.createBook(this.state.activeBook)\n\t\t} else {\n\t\t\tthis.updateBook(this.state.activeBook)\n\t\t}\n\t\t\n\t}\n\n\thandleListItemClick(id){\n\t\tthis.setActiveBook(id)\n\t}\n\n\thandleSearchChange(value){\n\t\tthis.setState({\n\t\t\tsearchTerm:value\n\t\t})\n\t\tif (value === \"\") {\n\t\t\tthis.getBookList()\n\t\t}\n\t}\n\n\thandleSearchClick(e){\n\t\t//console.log('handleSearchClick', this.state.searchTerm)\n\t\tthis.getBookList(this.state.searchTerm)\n\t}\n\n\tdeleteActiveBook(){\n\t\t//console.log('delete ', this.state.activeBook._id)\n\t\tthis.deleteBook(this.state.activeBook._id, this.state.activeBook.title)\n\t}\n\n\thandleNewClick(){\n\t\tthis.setState({\n\t\t\tmodalMode: \"new\",\n\t\t\tactiveBook: {\n\t\t\t\tid: \"\",\n\t\t\t\ttitle:\"\",\n\t\t\t\tauthor: \"\",\n\t\t\t\tyear: 0,\n\t\t\t\tstatus: \"\",\n\t\t\t\tpriority: 0,\n\t\t\t\tuserid: this.state.user._id\n\t\t\t},\n\t\t\tgoogleBooksData: {}\n\t\t})\n\t}\n\thandleGoogleLookup(){\n\t\tthis.getGoogleBooksData(this.state.activeBook.title)\n\t}\n\n\thandleGoogleBookSelect(id){\n\t\tlet filter = this.state.googleBooksData.filter(book => book.googleBooksId === id)\n\t\tlet f = filter[0]\n\t\tlet author = f.authors.join()\n\t\tthis.setState({\n\t\t\tactiveBook:{\n\t\t\t\t...this.state.activeBook,\n\t\t\t\tgoogleBooksId: id,\n\t\t\t\ttitle: f.title,\n\t\t\t\tauthor: author,\n\t\t\t\tcategories: f.categories,\n\t\t\t\tdescription: f.description,\n\t\t\t\tisbn10: f.isbn10,\n\t\t\t\tisbn13: f.isbn13,\n\t\t\t\tpages: f.pages,\n\t\t\t\tpublisher: f.publisher,\n\t\t\t\tsnippet: f.snippet,\n\t\t\t\tsubtitle: f.subtitle,\n\t\t\t\tdate: f.date\n\t\t\t}\n\t\t})\n\t}\n\n\tasync handleSelectChange(e, id){\n\t\t//let v = e.target.getAttribute(\"dataValue\")\n\t\tlet v = e.target.value\n\t\t//console.log(v, id)\n\t\tfor (let i = 0; i < this.state.books.length; i ++){\n\t\t\tif (this.state.books[i]._id === id){\n\t\t\t\tawait this.setActiveBook(id)\n\t\t\t\t\n\t\t\t\tawait this.setState({\n\t\t\t\t\tactiveBook: {\n\t\t\t\t\t\t...this.state.activeBook,\n\t\t\t\t\t\tstatus: v\n\t\t\t\t\t}\t\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tawait this.updateBook(this.state.activeBook)\n\t\t\t\t\n\t\t\t}\n\t\t}\n\n\t}\n\n\thandleStatusFilterChange(e){\n\t\tthis.setState({\n\t\t\tstatusFilter: e\n\t\t})\n\t\tthis.filterBookList(\"status\", e)\n\t}\n\n\thandlePriorityFilterChange(e){\n\t\tthis.setState({\n\t\t\tpriorityFilter: e\n\t\t})\n\t\tthis.filterBookList(\"priority\", e)\t\n\t}\n\n\thandleLoginChange(name, value){\n        this.setState({\n\t\t\tlogin: {\n\t\t\t\t...this.state.login,\n\t\t\t\t[name]: value\n\t\t\t}\n\t\t})\n\t}\n\n\thandleLoginSubmit(e){\n\t\tconst url = CONFIG.loginUrl\n\t\tconst username = this.state.login.username\n\t\tconst password = this.state.login.password\n\t\tconst authdata = window.btoa(username + \":\" + password)\n\n\t\tconst requestOptions={ \n\t\t\theaders: { 'Authorization': 'Basic ' + authdata }\n\t\t}\n\n\t\taxios.get(url,requestOptions)\n      \t.then((response) => {\n\t\t\t//console.log(response)\n\n\t\t\tconst u = response.data\n\t\t\t// store user details and basic auth credentials in local storage \n\t\t\t// to keep user logged in between page refreshes\n\t\t\tconst user = {\n\t\t\t\t_id:u._id,\n\t\t\t\tusername: u.username,\n\t\t\t\temail: u.email,\n\t\t\t\trole: u.role,\n\t\t\t\tauthdata: authdata\n\t\t\t}\n\n            localStorage.setItem('user', JSON.stringify(user));\n\t\t\tthis.setState({\n\t\t\t\tuser: user,\n\t\t\t\tlogin:{\n\t\t\t\t\tusername:\"\",\n\t\t\t\t\tpassword:\"\"\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis.toaster.current.addToast({message: `Login success!  Welcome ${user.username}`})\n\t\t\tthis.getBookList()\n\n      \t})\n\t\t.catch((error) => {\n\t\t\tthis.setState({\n\t\t\t\terror: true\n\t\t\t})\n\t\t\tconsole.error(error)\n\t\t\tthis.toaster.current.addToast({message: `Login failed!  Please try again.`})\n\t\t});\n\t}\n\n\thandleLogout(){\n\t\tthis.toaster.current.addToast({message: `Logged out successfully.`})\n\t\tthis.setState({\n\t\t\tbooks:[],\n\t\t\tbooksCache:[],\n\t\t\tactiveBook: {\n\t\t\t\t_id: \"\",\n\t\t\t\ttitle:\"\",\n\t\t\t\tauthor: \"\",\n\t\t\t\tyear: 0,\n\t\t\t\tstatus: \"none\",\n\t\t\t\tpriority: 0,\n\t\t\t\tgoogleBooksId:\"\",\n\t\t\t\tuserid:\"\"\n\t\t\t},\n\t\t\tuser:{\n\t\t\t\t_id:\"\",\n\t\t\t\tusername:\"\",\n\t\t\t\temail: \"\",\n\t\t\t\trole: \"\",\n\t\t\t\tauthdata: \"\"\n\t\t\t}\n\t\t})\n\t\tlocalStorage.removeItem('user')\n\t}\n\t\n\tgetAuth(){\n\t\tconst requestOptions={ \n\t\t\theaders: { 'Authorization': `Basic ${this.state.user.authdata}` }\n\t\t}\n\t\treturn requestOptions\n\t}\n\n\trender(){\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<NavBar \n\t\t\t\t\thandleSearchClick={this.handleSearchClick} \n\t\t\t\t\tsearchTerm={this.state.searchTerm} \n\t\t\t\t\thandleSearchChange={this.handleSearchChange}\n\t\t\t\t\tstatusFilter={this.state.statusFilter}\n\t\t\t\t\thandleStatusFilterChange={this.handleStatusFilterChange}\n\t\t\t\t\tpriorityFilter={this.state.priorityFilter}\n\t\t\t\t\thandlePriorityFilterChange={this.handlePriorityFilterChange}\n\t\t\t\t\tuser={this.state.user}\n\t\t\t\t\thandleLogout={this.handleLogout}\n\t\t\t\t></NavBar>\n\t\t\t\t\n\t\t\t\t<BookList \n\t\t\t\t\tbooks={this.state.books}\n\t\t\t\t\tclickHandler={this.handleListItemClick}\n\t\t\t\t\tselectHandler={this.handleSelectChange}\n\t\t\t\t\tnewHandler={this.handleNewClick}\n\t\t\t\t\tisLoading={this.state.status.isBookListLoading}\n\t\t\t\t\tbookUpdatingId={this.state.status.bookUpdatingId}\n\t\t\t\t></BookList>\n\t\t\t\t<BookEditModal\n\t\t\t\t\tbook={this.state.activeBook}\n\t\t\t\t\thandleChange={this.handleEditModalChange}\n\t\t\t\t\thandleSave={this.handleEditModalSave}\n\t\t\t\t\tmode={this.state.modalMode}\n\t\t\t\t\tgoogleBooksData={this.state.googleBooksData}\n\t\t\t\t\tisGoogleLoading={this.state.status.isGoogleLoading}\n\t\t\t\t\thandleGoogleLookup={this.handleGoogleLookup}\n\t\t\t\t\thandleGoogleBookSelect={this.handleGoogleBookSelect}\n\t\t\t\t></BookEditModal>\n\t\t\t\t<YesNoModal msg={this.state.yesNoModal.text + this.state.activeBook.title + '?'} handleOkClick={this.deleteActiveBook} ></YesNoModal>\n\t\t\t\t<LoginModal login={this.state.login} handleChange={this.handleLoginChange} handleSubmit={this.handleLoginSubmit}></LoginModal>\n\t\t\t\t<Toaster ref={this.toaster}></Toaster>\n\t\t\t\t<footer >\n\t\t\t\t\t<p></p>\n\t\t\t\t\t<p></p>\n\t\t\t\t</footer>\n\t\t\t</div>\n\t\t  );\n\n\t}\n  \n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}